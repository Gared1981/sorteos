function lm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function um(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Fu={exports:{}},Ia={},Bu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),dm=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),pm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),ym=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),nc=Symbol.iterator;function bm(e){return e===null||typeof e!="object"?null:(e=nc&&e[nc]||e["@@iterator"],typeof e=="function"?e:null)}var Vu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qu=Object.assign,Hu={};function cn(e,t,r){this.props=e,this.context=t,this.refs=Hu,this.updater=r||Vu}cn.prototype.isReactComponent={};cn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wu(){}Wu.prototype=cn.prototype;function el(e,t,r){this.props=e,this.context=t,this.refs=Hu,this.updater=r||Vu}var tl=el.prototype=new Wu;tl.constructor=el;qu(tl,cn.prototype);tl.isPureReactComponent=!0;var sc=Array.isArray,Gu=Object.prototype.hasOwnProperty,rl={current:null},Ku={key:!0,ref:!0,__self:!0,__source:!0};function Qu(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Gu.call(t,n)&&!Ku.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ds,type:e,key:i,ref:o,props:a,_owner:rl.current}}function jm(e,t){return{$$typeof:ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ds}function Nm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ac=/\/+/g;function ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nm(""+e.key):t.toString(36)}function Gs(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ds:case dm:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+ui(o,0):n,sc(a)?(r="",e!=null&&(r=e.replace(ac,"$&/")+"/"),Gs(a,t,r,"",function(u){return u})):a!=null&&(nl(a)&&(a=jm(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ac,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",sc(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ui(i,l);o+=Gs(i,t,r,c,a)}else if(c=bm(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ui(i,l++),o+=Gs(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ks(e,t,r){if(e==null)return e;var n=[],a=0;return Gs(e,n,"","",function(i){return t.call(r,i,a++)}),n}function km(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},Ks={transition:null},_m={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:rl};function Ju(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:ks,forEach:function(e,t,r){ks(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!nl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=cn;B.Fragment=hm;B.Profiler=mm;B.PureComponent=el;B.StrictMode=fm;B.Suspense=vm;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;B.act=Ju;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qu({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=rl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gu.call(t,c)&&!Ku.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ds,type:e.type,key:a,ref:i,props:n,_owner:o}};B.createContext=function(e){return e={$$typeof:gm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pm,_context:e},e.Consumer=e};B.createElement=Qu;B.createFactory=function(e){var t=Qu.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:xm,render:e}};B.isValidElement=nl;B.lazy=function(e){return{$$typeof:wm,_payload:{_status:-1,_result:e},_init:km}};B.memo=function(e,t){return{$$typeof:ym,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Ks.transition;Ks.transition={};try{e()}finally{Ks.transition=t}};B.unstable_act=Ju;B.useCallback=function(e,t){return _e.current.useCallback(e,t)};B.useContext=function(e){return _e.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};B.useEffect=function(e,t){return _e.current.useEffect(e,t)};B.useId=function(){return _e.current.useId()};B.useImperativeHandle=function(e,t,r){return _e.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return _e.current.useMemo(e,t)};B.useReducer=function(e,t,r){return _e.current.useReducer(e,t,r)};B.useRef=function(e){return _e.current.useRef(e)};B.useState=function(e){return _e.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return _e.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return _e.current.useTransition()};B.version="18.3.1";Bu.exports=B;var b=Bu.exports;const Sm=cm(b),Em=lm({__proto__:null,default:Sm},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=b,Pm=Symbol.for("react.element"),Tm=Symbol.for("react.fragment"),$m=Object.prototype.hasOwnProperty,Rm=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Om={key:!0,ref:!0,__self:!0,__source:!0};function Xu(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$m.call(t,n)&&!Om.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Pm,type:e,key:i,ref:o,props:a,_owner:Rm.current}}Ia.Fragment=Tm;Ia.jsx=Xu;Ia.jsxs=Xu;Fu.exports=Ia;var s=Fu.exports,Yu={exports:{}},ze={},Zu={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,M){var U=$.length;$.push(M);e:for(;0<U;){var ne=U-1>>>1,ue=$[ne];if(0<a(ue,M))$[ne]=M,$[U]=ue,U=ne;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var M=$[0],U=$.pop();if(U!==M){$[0]=U;e:for(var ne=0,ue=$.length,js=ue>>>1;ne<js;){var nr=2*(ne+1)-1,ci=$[nr],sr=nr+1,Ns=$[sr];if(0>a(ci,U))sr<ue&&0>a(Ns,ci)?($[ne]=Ns,$[sr]=U,ne=sr):($[ne]=ci,$[nr]=U,ne=nr);else if(sr<ue&&0>a(Ns,U))$[ne]=Ns,$[sr]=U,ne=sr;else break e}}return M}function a($,M){var U=$.sortIndex-M.sortIndex;return U!==0?U:$.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,y=!1,x=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g($){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=$)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function v($){if(w=!1,g($),!x)if(r(c)!==null)x=!0,re(N);else{var M=r(u);M!==null&&st(v,M.startTime-$)}}function N($,M){x=!1,w&&(w=!1,f(S),S=-1),y=!0;var U=p;try{for(g(M),h=r(c);h!==null&&(!(h.expirationTime>M)||$&&!I());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var ue=ne(h.expirationTime<=M);M=e.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(c)&&n(c),g(M)}else n(c);h=r(c)}if(h!==null)var js=!0;else{var nr=r(u);nr!==null&&st(v,nr.startTime-M),js=!1}return js}finally{h=null,p=U,y=!1}}var _=!1,k=null,S=-1,T=5,C=-1;function I(){return!(e.unstable_now()-C<T)}function ae(){if(k!==null){var $=e.unstable_now();C=$;var M=!0;try{M=k(!0,$)}finally{M?P():(_=!1,k=null)}}else _=!1}var P;if(typeof m=="function")P=function(){m(ae)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,q=A.port2;A.port1.onmessage=ae,P=function(){q.postMessage(null)}}else P=function(){j(ae,0)};function re($){k=$,_||(_=!0,P())}function st($,M){S=j(function(){$(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,re(N))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var U=p;p=M;try{return $()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,M){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var U=p;p=$;try{return M()}finally{p=U}},e.unstable_scheduleCallback=function($,M,U){var ne=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ne+U:ne):U=ne,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=U+ue,$={id:d++,callback:M,priorityLevel:$,startTime:U,expirationTime:ue,sortIndex:-1},U>ne?($.sortIndex=U,t(u,$),r(c)===null&&$===r(u)&&(w?(f(S),S=-1):w=!0,st(v,U-ne))):($.sortIndex=ue,t(c,$),x||y||(x=!0,re(N))),$},e.unstable_shouldYield=I,e.unstable_wrapCallback=function($){var M=p;return function(){var U=p;p=M;try{return $.apply(this,arguments)}finally{p=U}}}})(ed);Zu.exports=ed;var Lm=Zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=b,Me=Lm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var td=new Set,qn={};function Nr(e,t){en(e,t),en(e+"Capture",t)}function en(e,t){for(qn[e]=t,e=0;e<t.length;e++)td.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qi=Object.prototype.hasOwnProperty,Im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ic={},oc={};function Mm(e){return qi.call(oc,e)?!0:qi.call(ic,e)?!1:Im.test(e)?oc[e]=!0:(ic[e]=!0,!1)}function zm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dm(e,t,r,n){if(t===null||typeof t>"u"||zm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var sl=/[\-:]([a-z])/g;function al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sl,al);ge[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sl,al);ge[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sl,al);ge[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function il(e,t,r,n){var a=ge.hasOwnProperty(t)?ge[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dm(t,r,a,n)&&(r=null),n||a===null?Mm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var St=Am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_s=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),ol=Symbol.for("react.strict_mode"),Hi=Symbol.for("react.profiler"),rd=Symbol.for("react.provider"),nd=Symbol.for("react.context"),ll=Symbol.for("react.forward_ref"),Wi=Symbol.for("react.suspense"),Gi=Symbol.for("react.suspense_list"),cl=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),sd=Symbol.for("react.offscreen"),lc=Symbol.iterator;function gn(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,di;function _n(e){if(di===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);di=t&&t[1]||""}return`
`+di+e}var hi=!1;function fi(e,t){if(!e||hi)return"";hi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{hi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_n(e):""}function Um(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=fi(e.type,!1),e;case 11:return e=fi(e.type.render,!1),e;case 1:return e=fi(e.type,!0),e;default:return""}}function Ki(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Lr:return"Portal";case Hi:return"Profiler";case ol:return"StrictMode";case Wi:return"Suspense";case Gi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nd:return(e.displayName||"Context")+".Consumer";case rd:return(e._context.displayName||"Context")+".Provider";case ll:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cl:return t=e.displayName||null,t!==null?t:Ki(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return Ki(e(t))}catch{}}return null}function Fm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ki(t);case 8:return t===ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ad(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bm(e){var t=ad(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=Bm(e))}function id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ad(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qi(e,t){var r=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function od(e,t){t=t.checked,t!=null&&il(e,"checked",t,!1)}function Ji(e,t){od(e,t);var r=Qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xi(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xi(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xi(e,t,r){(t!=="number"||ia(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Sn=Array.isArray;function Wr(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Sn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qt(r)}}function ld(e,t){var r=Qt(t.value),n=Qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vm=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(e){Vm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tn[t]=Tn[e]})});function dd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tn.hasOwnProperty(e)&&Tn[e]?(""+t).trim():t+"px"}function hd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=dd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var qm=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(e,t){if(t){if(qm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function to(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var no=null,Gr=null,Kr=null;function fc(e){if(e=ms(e)){if(typeof no!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Fa(t),no(e.stateNode,e.type,t))}}function fd(e){Gr?Kr?Kr.push(e):Kr=[e]:Gr=e}function md(){if(Gr){var e=Gr,t=Kr;if(Kr=Gr=null,fc(e),t)for(e=0;e<t.length;e++)fc(t[e])}}function pd(e,t){return e(t)}function gd(){}var mi=!1;function xd(e,t,r){if(mi)return e(t,r);mi=!0;try{return pd(e,t,r)}finally{mi=!1,(Gr!==null||Kr!==null)&&(gd(),md())}}function Wn(e,t){var r=e.stateNode;if(r===null)return null;var n=Fa(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var so=!1;if(yt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){so=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{so=!1}function Hm(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var $n=!1,oa=null,la=!1,ao=null,Wm={onError:function(e){$n=!0,oa=e}};function Gm(e,t,r,n,a,i,o,l,c){$n=!1,oa=null,Hm.apply(Wm,arguments)}function Km(e,t,r,n,a,i,o,l,c){if(Gm.apply(this,arguments),$n){if($n){var u=oa;$n=!1,oa=null}else throw Error(E(198));la||(la=!0,ao=u)}}function kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mc(e){if(kr(e)!==e)throw Error(E(188))}function Qm(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return mc(a),e;if(i===n)return mc(a),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function yd(e){return e=Qm(e),e!==null?wd(e):null}function wd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wd(e);if(t!==null)return t;e=e.sibling}return null}var bd=Me.unstable_scheduleCallback,pc=Me.unstable_cancelCallback,Jm=Me.unstable_shouldYield,Xm=Me.unstable_requestPaint,se=Me.unstable_now,Ym=Me.unstable_getCurrentPriorityLevel,dl=Me.unstable_ImmediatePriority,jd=Me.unstable_UserBlockingPriority,ca=Me.unstable_NormalPriority,Zm=Me.unstable_LowPriority,Nd=Me.unstable_IdlePriority,Ma=null,lt=null;function ep(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ma,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:np,tp=Math.log,rp=Math.LN2;function np(e){return e>>>=0,e===0?32:31-(tp(e)/rp|0)|0}var Cs=64,Ps=4194304;function En(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ua(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=En(l):(i&=o,i!==0&&(n=En(i)))}else o=r&~a,o!==0?n=En(o):i!==0&&(n=En(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-et(t),a=1<<r,n|=e[r],t&=~a;return n}function sp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ap(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-et(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=sp(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function io(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kd(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function pi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function hs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=r}function ip(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-et(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function hl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-et(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var H=0;function _d(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sd,fl,Ed,Cd,Pd,oo=!1,Ts=[],Dt=null,Ut=null,Ft=null,Gn=new Map,Kn=new Map,Rt=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gc(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function vn(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ms(t),t!==null&&fl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lp(e,t,r,n,a){switch(t){case"focusin":return Dt=vn(Dt,e,t,r,n,a),!0;case"dragenter":return Ut=vn(Ut,e,t,r,n,a),!0;case"mouseover":return Ft=vn(Ft,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Gn.set(i,vn(Gn.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Kn.set(i,vn(Kn.get(i)||null,e,t,r,n,a)),!0}return!1}function Td(e){var t=ur(e.target);if(t!==null){var r=kr(t);if(r!==null){if(t=r.tag,t===13){if(t=vd(r),t!==null){e.blockedOn=t,Pd(e.priority,function(){Ed(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ro=n,r.target.dispatchEvent(n),ro=null}else return t=ms(r),t!==null&&fl(t),e.blockedOn=r,!1;t.shift()}return!0}function xc(e,t,r){Qs(e)&&r.delete(t)}function cp(){oo=!1,Dt!==null&&Qs(Dt)&&(Dt=null),Ut!==null&&Qs(Ut)&&(Ut=null),Ft!==null&&Qs(Ft)&&(Ft=null),Gn.forEach(xc),Kn.forEach(xc)}function yn(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,cp)))}function Qn(e){function t(a){return yn(a,e)}if(0<Ts.length){yn(Ts[0],e);for(var r=1;r<Ts.length;r++){var n=Ts[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dt!==null&&yn(Dt,e),Ut!==null&&yn(Ut,e),Ft!==null&&yn(Ft,e),Gn.forEach(t),Kn.forEach(t),r=0;r<Rt.length;r++)n=Rt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&(r=Rt[0],r.blockedOn===null);)Td(r),r.blockedOn===null&&Rt.shift()}var Qr=St.ReactCurrentBatchConfig,da=!0;function up(e,t,r,n){var a=H,i=Qr.transition;Qr.transition=null;try{H=1,ml(e,t,r,n)}finally{H=a,Qr.transition=i}}function dp(e,t,r,n){var a=H,i=Qr.transition;Qr.transition=null;try{H=4,ml(e,t,r,n)}finally{H=a,Qr.transition=i}}function ml(e,t,r,n){if(da){var a=lo(e,t,r,n);if(a===null)_i(e,t,n,ha,r),gc(e,n);else if(lp(a,e,t,r,n))n.stopPropagation();else if(gc(e,n),t&4&&-1<op.indexOf(e)){for(;a!==null;){var i=ms(a);if(i!==null&&Sd(i),i=lo(e,t,r,n),i===null&&_i(e,t,n,ha,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else _i(e,t,n,null,r)}}var ha=null;function lo(e,t,r,n){if(ha=null,e=ul(n),e=ur(e),e!==null)if(t=kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ha=e,null}function $d(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ym()){case dl:return 1;case jd:return 4;case ca:case Zm:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var It=null,pl=null,Js=null;function Rd(){if(Js)return Js;var e,t=pl,r=t.length,n,a="value"in It?It.value:It.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Js=a.slice(e,1<n?1-n:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function vc(){return!1}function De(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$s:vc,this.isPropagationStopped=vc,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=De(un),fs=ee({},un,{view:0,detail:0}),hp=De(fs),gi,xi,wn,za=ee({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wn&&(wn&&e.type==="mousemove"?(gi=e.screenX-wn.screenX,xi=e.screenY-wn.screenY):xi=gi=0,wn=e),gi)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),yc=De(za),fp=ee({},za,{dataTransfer:0}),mp=De(fp),pp=ee({},fs,{relatedTarget:0}),vi=De(pp),gp=ee({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=De(gp),vp=ee({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yp=De(vp),wp=ee({},un,{data:0}),wc=De(wp),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Np[e])?!!t[e]:!1}function xl(){return kp}var _p=ee({},fs,{key:function(e){if(e.key){var t=bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sp=De(_p),Ep=ee({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=De(Ep),Cp=ee({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),Pp=De(Cp),Tp=ee({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=De(Tp),Rp=ee({},za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Op=De(Rp),Lp=[9,13,27,32],vl=yt&&"CompositionEvent"in window,Rn=null;yt&&"documentMode"in document&&(Rn=document.documentMode);var Ap=yt&&"TextEvent"in window&&!Rn,Od=yt&&(!vl||Rn&&8<Rn&&11>=Rn),jc=" ",Nc=!1;function Ld(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function Ip(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(Nc=!0,jc);case"textInput":return e=t.data,e===jc&&Nc?null:e;default:return null}}function Mp(e,t){if(Ir)return e==="compositionend"||!vl&&Ld(e,t)?(e=Rd(),Js=pl=It=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function Id(e,t,r,n){fd(n),t=fa(t,"onChange"),0<t.length&&(r=new gl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var On=null,Jn=null;function Dp(e){Gd(e,0)}function Da(e){var t=Dr(e);if(id(t))return e}function Up(e,t){if(e==="change")return t}var Md=!1;if(yt){var yi;if(yt){var wi="oninput"in document;if(!wi){var _c=document.createElement("div");_c.setAttribute("oninput","return;"),wi=typeof _c.oninput=="function"}yi=wi}else yi=!1;Md=yi&&(!document.documentMode||9<document.documentMode)}function Sc(){On&&(On.detachEvent("onpropertychange",zd),Jn=On=null)}function zd(e){if(e.propertyName==="value"&&Da(Jn)){var t=[];Id(t,Jn,e,ul(e)),xd(Dp,t)}}function Fp(e,t,r){e==="focusin"?(Sc(),On=t,Jn=r,On.attachEvent("onpropertychange",zd)):e==="focusout"&&Sc()}function Bp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(Jn)}function Vp(e,t){if(e==="click")return Da(t)}function qp(e,t){if(e==="input"||e==="change")return Da(t)}function Hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:Hp;function Xn(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!qi.call(t,a)||!nt(e[a],t[a]))return!1}return!0}function Ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cc(e,t){var r=Ec(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ec(r)}}function Dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(){for(var e=window,t=ia();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ia(e.document)}return t}function yl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wp(e){var t=Ud(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dd(r.ownerDocument.documentElement,r)){if(n!==null&&yl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Cc(r,i);var o=Cc(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gp=yt&&"documentMode"in document&&11>=document.documentMode,Mr=null,co=null,Ln=null,uo=!1;function Pc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uo||Mr==null||Mr!==ia(n)||(n=Mr,"selectionStart"in n&&yl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ln&&Xn(Ln,n)||(Ln=n,n=fa(co,"onSelect"),0<n.length&&(t=new gl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mr)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},bi={},Fd={};yt&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ua(e){if(bi[e])return bi[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Fd)return bi[e]=t[r];return e}var Bd=Ua("animationend"),Vd=Ua("animationiteration"),qd=Ua("animationstart"),Hd=Ua("transitionend"),Wd=new Map,Tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Wd.set(e,t),Nr(t,[e])}for(var ji=0;ji<Tc.length;ji++){var Ni=Tc[ji],Kp=Ni.toLowerCase(),Qp=Ni[0].toUpperCase()+Ni.slice(1);Xt(Kp,"on"+Qp)}Xt(Bd,"onAnimationEnd");Xt(Vd,"onAnimationIteration");Xt(qd,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(Hd,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cn));function $c(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Km(n,t,void 0,e),e.currentTarget=null}function Gd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;$c(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;$c(a,l,u),i=c}}}if(la)throw e=ao,la=!1,ao=null,e}function K(e,t){var r=t[go];r===void 0&&(r=t[go]=new Set);var n=e+"__bubble";r.has(n)||(Kd(t,e,2,!1),r.add(n))}function ki(e,t,r){var n=0;t&&(n|=4),Kd(r,e,n,t)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[Os]){e[Os]=!0,td.forEach(function(r){r!=="selectionchange"&&(Jp.has(r)||ki(r,!1,e),ki(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Os]||(t[Os]=!0,ki("selectionchange",!1,t))}}function Kd(e,t,r,n){switch($d(t)){case 1:var a=up;break;case 4:a=dp;break;default:a=ml}r=a.bind(null,t,r,e),a=void 0,!so||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function _i(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ur(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}xd(function(){var u=i,d=ul(r),h=[];e:{var p=Wd.get(e);if(p!==void 0){var y=gl,x=e;switch(e){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":y=Sp;break;case"focusin":x="focus",y=vi;break;case"focusout":x="blur",y=vi;break;case"beforeblur":case"afterblur":y=vi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Pp;break;case Bd:case Vd:case qd:y=xp;break;case Hd:y=$p;break;case"scroll":y=hp;break;case"wheel":y=Op;break;case"copy":case"cut":case"paste":y=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=bc}var w=(t&4)!==0,j=!w&&e==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var m=u,g;m!==null;){g=m;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,f!==null&&(v=Wn(m,f),v!=null&&w.push(Zn(m,v,g)))),j)break;m=m.return}0<w.length&&(p=new y(p,x,null,r,d),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&r!==ro&&(x=r.relatedTarget||r.fromElement)&&(ur(x)||x[wt]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?ur(x):null,x!==null&&(j=kr(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=yc,v="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=bc,v="onPointerLeave",f="onPointerEnter",m="pointer"),j=y==null?p:Dr(y),g=x==null?p:Dr(x),p=new w(v,m+"leave",y,r,d),p.target=j,p.relatedTarget=g,v=null,ur(d)===u&&(w=new w(f,m+"enter",x,r,d),w.target=g,w.relatedTarget=j,v=w),j=v,y&&x)t:{for(w=y,f=x,m=0,g=w;g;g=Cr(g))m++;for(g=0,v=f;v;v=Cr(v))g++;for(;0<m-g;)w=Cr(w),m--;for(;0<g-m;)f=Cr(f),g--;for(;m--;){if(w===f||f!==null&&w===f.alternate)break t;w=Cr(w),f=Cr(f)}w=null}else w=null;y!==null&&Rc(h,p,y,w,!1),x!==null&&j!==null&&Rc(h,j,x,w,!0)}}e:{if(p=u?Dr(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var N=Up;else if(kc(p))if(Md)N=qp;else{N=Bp;var _=Fp}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Vp);if(N&&(N=N(e,u))){Id(h,N,r,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Xi(p,"number",p.value)}switch(_=u?Dr(u):window,e){case"focusin":(kc(_)||_.contentEditable==="true")&&(Mr=_,co=u,Ln=null);break;case"focusout":Ln=co=Mr=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,Pc(h,r,d);break;case"selectionchange":if(Gp)break;case"keydown":case"keyup":Pc(h,r,d)}var k;if(vl)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ir?Ld(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Od&&r.locale!=="ko"&&(Ir||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ir&&(k=Rd()):(It=d,pl="value"in It?It.value:It.textContent,Ir=!0)),_=fa(u,S),0<_.length&&(S=new wc(S,e,null,r,d),h.push({event:S,listeners:_}),k?S.data=k:(k=Ad(r),k!==null&&(S.data=k)))),(k=Ap?Ip(e,r):Mp(e,r))&&(u=fa(u,"onBeforeInput"),0<u.length&&(d=new wc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Gd(h,t)})}function Zn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fa(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wn(e,r),i!=null&&n.unshift(Zn(e,i,a)),i=Wn(e,t),i!=null&&n.push(Zn(e,i,a))),e=e.return}return n}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rc(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wn(r,i),c!=null&&o.unshift(Zn(r,c,l))):a||(c=Wn(r,i),c!=null&&o.push(Zn(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Xp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function Oc(e){return(typeof e=="string"?e:""+e).replace(Xp,`
`).replace(Yp,"")}function Ls(e,t,r){if(t=Oc(t),Oc(e)!==t&&r)throw Error(E(425))}function ma(){}var ho=null,fo=null;function mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var po=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,e0=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(t0)}:po;function t0(e){setTimeout(function(){throw e})}function Si(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Qn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Qn(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dn=Math.random().toString(36).slice(2),ot="__reactFiber$"+dn,es="__reactProps$"+dn,wt="__reactContainer$"+dn,go="__reactEvents$"+dn,r0="__reactListeners$"+dn,n0="__reactHandles$"+dn;function ur(e){var t=e[ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wt]||r[ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ac(e);e!==null;){if(r=e[ot])return r;e=Ac(e)}return t}e=r,r=e.parentNode}return null}function ms(e){return e=e[ot]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Fa(e){return e[es]||null}var xo=[],Ur=-1;function Yt(e){return{current:e}}function Q(e){0>Ur||(e.current=xo[Ur],xo[Ur]=null,Ur--)}function G(e,t){Ur++,xo[Ur]=e.current,e.current=t}var Jt={},be=Yt(Jt),$e=Yt(!1),xr=Jt;function tn(e,t){var r=e.type.contextTypes;if(!r)return Jt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Re(e){return e=e.childContextTypes,e!=null}function pa(){Q($e),Q(be)}function Ic(e,t,r){if(be.current!==Jt)throw Error(E(168));G(be,t),G($e,r)}function Qd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(E(108,Fm(e)||"Unknown",a));return ee({},r,n)}function ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jt,xr=be.current,G(be,e),G($e,$e.current),!0}function Mc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Qd(e,t,xr),n.__reactInternalMemoizedMergedChildContext=e,Q($e),Q(be),G(be,e)):Q($e),G($e,r)}var pt=null,Ba=!1,Ei=!1;function Jd(e){pt===null?pt=[e]:pt.push(e)}function s0(e){Ba=!0,Jd(e)}function Zt(){if(!Ei&&pt!==null){Ei=!0;var e=0,t=H;try{var r=pt;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pt=null,Ba=!1}catch(a){throw pt!==null&&(pt=pt.slice(e+1)),bd(dl,Zt),a}finally{H=t,Ei=!1}}return null}var Fr=[],Br=0,xa=null,va=0,Fe=[],Be=0,vr=null,gt=1,xt="";function ir(e,t){Fr[Br++]=va,Fr[Br++]=xa,xa=e,va=t}function Xd(e,t,r){Fe[Be++]=gt,Fe[Be++]=xt,Fe[Be++]=vr,vr=e;var n=gt;e=xt;var a=32-et(n)-1;n&=~(1<<a),r+=1;var i=32-et(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,gt=1<<32-et(t)+a|r<<a|n,xt=i+e}else gt=1<<i|r<<a|n,xt=e}function wl(e){e.return!==null&&(ir(e,1),Xd(e,1,0))}function bl(e){for(;e===xa;)xa=Fr[--Br],Fr[Br]=null,va=Fr[--Br],Fr[Br]=null;for(;e===vr;)vr=Fe[--Be],Fe[Be]=null,xt=Fe[--Be],Fe[Be]=null,gt=Fe[--Be],Fe[Be]=null}var Ie=null,Ae=null,J=!1,Ze=null;function Yd(e,t){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:gt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Ae=null,!0):!1;default:return!1}}function vo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yo(e){if(J){var t=Ae;if(t){var r=t;if(!zc(e,t)){if(vo(e))throw Error(E(418));t=Bt(r.nextSibling);var n=Ie;t&&zc(e,t)?Yd(n,r):(e.flags=e.flags&-4097|2,J=!1,Ie=e)}}else{if(vo(e))throw Error(E(418));e.flags=e.flags&-4097|2,J=!1,Ie=e}}}function Dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function As(e){if(e!==Ie)return!1;if(!J)return Dc(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mo(e.type,e.memoizedProps)),t&&(t=Ae)){if(vo(e))throw Zd(),Error(E(418));for(;t;)Yd(e,t),t=Bt(t.nextSibling)}if(Dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=Bt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Bt(e.stateNode.nextSibling):null;return!0}function Zd(){for(var e=Ae;e;)e=Bt(e.nextSibling)}function rn(){Ae=Ie=null,J=!1}function jl(e){Ze===null?Ze=[e]:Ze.push(e)}var a0=St.ReactCurrentBatchConfig;function bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function eh(e){function t(f,m){if(e){var g=f.deletions;g===null?(f.deletions=[m],f.flags|=16):g.push(m)}}function r(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function n(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function a(f,m){return f=Wt(f,m),f.index=0,f.sibling=null,f}function i(f,m,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<m?(f.flags|=2,m):g):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,m,g,v){return m===null||m.tag!==6?(m=Li(g,f.mode,v),m.return=f,m):(m=a(m,g),m.return=f,m)}function c(f,m,g,v){var N=g.type;return N===Ar?d(f,m,g.props.children,v,g.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pt&&Uc(N)===m.type)?(v=a(m,g.props),v.ref=bn(f,m,g),v.return=f,v):(v=sa(g.type,g.key,g.props,null,f.mode,v),v.ref=bn(f,m,g),v.return=f,v)}function u(f,m,g,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ai(g,f.mode,v),m.return=f,m):(m=a(m,g.children||[]),m.return=f,m)}function d(f,m,g,v,N){return m===null||m.tag!==7?(m=pr(g,f.mode,v,N),m.return=f,m):(m=a(m,g),m.return=f,m)}function h(f,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Li(""+m,f.mode,g),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _s:return g=sa(m.type,m.key,m.props,null,f.mode,g),g.ref=bn(f,null,m),g.return=f,g;case Lr:return m=Ai(m,f.mode,g),m.return=f,m;case Pt:var v=m._init;return h(f,v(m._payload),g)}if(Sn(m)||gn(m))return m=pr(m,f.mode,g,null),m.return=f,m;Is(f,m)}return null}function p(f,m,g,v){var N=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(f,m,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _s:return g.key===N?c(f,m,g,v):null;case Lr:return g.key===N?u(f,m,g,v):null;case Pt:return N=g._init,p(f,m,N(g._payload),v)}if(Sn(g)||gn(g))return N!==null?null:d(f,m,g,v,null);Is(f,g)}return null}function y(f,m,g,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(g)||null,l(m,f,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _s:return f=f.get(v.key===null?g:v.key)||null,c(m,f,v,N);case Lr:return f=f.get(v.key===null?g:v.key)||null,u(m,f,v,N);case Pt:var _=v._init;return y(f,m,g,_(v._payload),N)}if(Sn(v)||gn(v))return f=f.get(g)||null,d(m,f,v,N,null);Is(m,v)}return null}function x(f,m,g,v){for(var N=null,_=null,k=m,S=m=0,T=null;k!==null&&S<g.length;S++){k.index>S?(T=k,k=null):T=k.sibling;var C=p(f,k,g[S],v);if(C===null){k===null&&(k=T);break}e&&k&&C.alternate===null&&t(f,k),m=i(C,m,S),_===null?N=C:_.sibling=C,_=C,k=T}if(S===g.length)return r(f,k),J&&ir(f,S),N;if(k===null){for(;S<g.length;S++)k=h(f,g[S],v),k!==null&&(m=i(k,m,S),_===null?N=k:_.sibling=k,_=k);return J&&ir(f,S),N}for(k=n(f,k);S<g.length;S++)T=y(k,f,S,g[S],v),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?S:T.key),m=i(T,m,S),_===null?N=T:_.sibling=T,_=T);return e&&k.forEach(function(I){return t(f,I)}),J&&ir(f,S),N}function w(f,m,g,v){var N=gn(g);if(typeof N!="function")throw Error(E(150));if(g=N.call(g),g==null)throw Error(E(151));for(var _=N=null,k=m,S=m=0,T=null,C=g.next();k!==null&&!C.done;S++,C=g.next()){k.index>S?(T=k,k=null):T=k.sibling;var I=p(f,k,C.value,v);if(I===null){k===null&&(k=T);break}e&&k&&I.alternate===null&&t(f,k),m=i(I,m,S),_===null?N=I:_.sibling=I,_=I,k=T}if(C.done)return r(f,k),J&&ir(f,S),N;if(k===null){for(;!C.done;S++,C=g.next())C=h(f,C.value,v),C!==null&&(m=i(C,m,S),_===null?N=C:_.sibling=C,_=C);return J&&ir(f,S),N}for(k=n(f,k);!C.done;S++,C=g.next())C=y(k,f,S,C.value,v),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?S:C.key),m=i(C,m,S),_===null?N=C:_.sibling=C,_=C);return e&&k.forEach(function(ae){return t(f,ae)}),J&&ir(f,S),N}function j(f,m,g,v){if(typeof g=="object"&&g!==null&&g.type===Ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case _s:e:{for(var N=g.key,_=m;_!==null;){if(_.key===N){if(N=g.type,N===Ar){if(_.tag===7){r(f,_.sibling),m=a(_,g.props.children),m.return=f,f=m;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pt&&Uc(N)===_.type){r(f,_.sibling),m=a(_,g.props),m.ref=bn(f,_,g),m.return=f,f=m;break e}r(f,_);break}else t(f,_);_=_.sibling}g.type===Ar?(m=pr(g.props.children,f.mode,v,g.key),m.return=f,f=m):(v=sa(g.type,g.key,g.props,null,f.mode,v),v.ref=bn(f,m,g),v.return=f,f=v)}return o(f);case Lr:e:{for(_=g.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(f,m.sibling),m=a(m,g.children||[]),m.return=f,f=m;break e}else{r(f,m);break}else t(f,m);m=m.sibling}m=Ai(g,f.mode,v),m.return=f,f=m}return o(f);case Pt:return _=g._init,j(f,m,_(g._payload),v)}if(Sn(g))return x(f,m,g,v);if(gn(g))return w(f,m,g,v);Is(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(f,m.sibling),m=a(m,g),m.return=f,f=m):(r(f,m),m=Li(g,f.mode,v),m.return=f,f=m),o(f)):r(f,m)}return j}var nn=eh(!0),th=eh(!1),ya=Yt(null),wa=null,Vr=null,Nl=null;function kl(){Nl=Vr=wa=null}function _l(e){var t=ya.current;Q(ya),e._currentValue=t}function wo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jr(e,t){wa=e,Nl=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(Nl!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(wa===null)throw Error(E(308));Vr=e,wa.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var dr=null;function Sl(e){dr===null?dr=[e]:dr.push(e)}function rh(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Sl(t)):(r.next=a.next,a.next=r),t.interleaved=r,bt(e,n)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tt=!1;function El(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,bt(e,r)}return a=n.interleaved,a===null?(t.next=t,Sl(n)):(t.next=a.next,a.next=t),n.interleaved=t,bt(e,r)}function Ys(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hl(e,r)}}function Fc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ba(e,t,r,n){var a=e.updateQueue;Tt=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(p=t,y=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(y,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(y,h,p):x,p==null)break e;h=ee({},h,p);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=h}}function Bc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(E(191,a));a.call(n)}}}var ps={},ct=Yt(ps),ts=Yt(ps),rs=Yt(ps);function hr(e){if(e===ps)throw Error(E(174));return e}function Cl(e,t){switch(G(rs,t),G(ts,e),G(ct,ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zi(t,e)}Q(ct),G(ct,t)}function sn(){Q(ct),Q(ts),Q(rs)}function sh(e){hr(rs.current);var t=hr(ct.current),r=Zi(t,e.type);t!==r&&(G(ts,e),G(ct,r))}function Pl(e){ts.current===e&&(Q(ct),Q(ts))}var X=Yt(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ci=[];function Tl(){for(var e=0;e<Ci.length;e++)Ci[e]._workInProgressVersionPrimary=null;Ci.length=0}var Zs=St.ReactCurrentDispatcher,Pi=St.ReactCurrentBatchConfig,yr=0,Z=null,le=null,he=null,Na=!1,An=!1,ns=0,i0=0;function xe(){throw Error(E(321))}function $l(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function Rl(e,t,r,n,a,i){if(yr=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?u0:d0,e=r(n,a),An){i=0;do{if(An=!1,ns=0,25<=i)throw Error(E(301));i+=1,he=le=null,t.updateQueue=null,Zs.current=h0,e=r(n,a)}while(An)}if(Zs.current=ka,t=le!==null&&le.next!==null,yr=0,he=le=Z=null,Na=!1,t)throw Error(E(300));return e}function Ol(){var e=ns!==0;return ns=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Z.memoizedState=he=e:he=he.next=e,he}function Ge(){if(le===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=he===null?Z.memoizedState:he.next;if(t!==null)he=t,le=e;else{if(e===null)throw Error(E(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},he===null?Z.memoizedState=he=e:he=he.next=e}return he}function ss(e,t){return typeof t=="function"?t(e):t}function Ti(e){var t=Ge(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=le,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((yr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Z.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,nt(n,t.memoizedState)||(Te=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Z.lanes|=i,wr|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $i(e){var t=Ge(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);nt(i,t.memoizedState)||(Te=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ah(){}function ih(e,t){var r=Z,n=Ge(),a=t(),i=!nt(n.memoizedState,a);if(i&&(n.memoizedState=a,Te=!0),n=n.queue,Ll(ch.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,as(9,lh.bind(null,r,n,a,t),void 0,null),fe===null)throw Error(E(349));yr&30||oh(r,t,a)}return a}function oh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lh(e,t,r,n){t.value=r,t.getSnapshot=n,uh(t)&&dh(e)}function ch(e,t,r){return r(function(){uh(t)&&dh(e)})}function uh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function dh(e){var t=bt(e,1);t!==null&&tt(t,e,1,-1)}function Vc(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=c0.bind(null,Z,e),[t.memoizedState,e]}function as(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hh(){return Ge().memoizedState}function ea(e,t,r,n){var a=it();Z.flags|=e,a.memoizedState=as(1|t,r,void 0,n===void 0?null:n)}function Va(e,t,r,n){var a=Ge();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&$l(n,o.deps)){a.memoizedState=as(t,r,i,n);return}}Z.flags|=e,a.memoizedState=as(1|t,r,i,n)}function qc(e,t){return ea(8390656,8,e,t)}function Ll(e,t){return Va(2048,8,e,t)}function fh(e,t){return Va(4,2,e,t)}function mh(e,t){return Va(4,4,e,t)}function ph(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gh(e,t,r){return r=r!=null?r.concat([e]):null,Va(4,4,ph.bind(null,t,e),r)}function Al(){}function xh(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$l(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vh(e,t){var r=Ge();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$l(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yh(e,t,r){return yr&21?(nt(r,t)||(r=kd(),Z.lanes|=r,wr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=r)}function o0(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=Pi.transition;Pi.transition={};try{e(!1),t()}finally{H=r,Pi.transition=n}}function wh(){return Ge().memoizedState}function l0(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bh(e))jh(t,r);else if(r=rh(e,t,r,n),r!==null){var a=ke();tt(r,e,n,a),Nh(r,t,n)}}function c0(e,t,r){var n=Ht(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bh(e))jh(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,nt(l,o)){var c=t.interleaved;c===null?(a.next=a,Sl(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=rh(e,t,a,n),r!==null&&(a=ke(),tt(r,e,n,a),Nh(r,t,n))}}function bh(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function jh(e,t){An=Na=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Nh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hl(e,r)}}var ka={readContext:We,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},u0={readContext:We,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:qc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ea(4194308,4,ph.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return ea(4,2,e,t)},useMemo:function(e,t){var r=it();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=it();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=l0.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:Al,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=o0.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Z,a=it();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),fe===null)throw Error(E(349));yr&30||oh(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,qc(ch.bind(null,n,i,e),[e]),n.flags|=2048,as(9,lh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=it(),t=fe.identifierPrefix;if(J){var r=xt,n=gt;r=(n&~(1<<32-et(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=i0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d0={readContext:We,useCallback:xh,useContext:We,useEffect:Ll,useImperativeHandle:gh,useInsertionEffect:fh,useLayoutEffect:mh,useMemo:vh,useReducer:Ti,useRef:hh,useState:function(){return Ti(ss)},useDebugValue:Al,useDeferredValue:function(e){var t=Ge();return yh(t,le.memoizedState,e)},useTransition:function(){var e=Ti(ss)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:ah,useSyncExternalStore:ih,useId:wh,unstable_isNewReconciler:!1},h0={readContext:We,useCallback:xh,useContext:We,useEffect:Ll,useImperativeHandle:gh,useInsertionEffect:fh,useLayoutEffect:mh,useMemo:vh,useReducer:$i,useRef:hh,useState:function(){return $i(ss)},useDebugValue:Al,useDeferredValue:function(e){var t=Ge();return le===null?t.memoizedState=e:yh(t,le.memoizedState,e)},useTransition:function(){var e=$i(ss)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:ah,useSyncExternalStore:ih,useId:wh,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qa={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),a=Ht(e),i=vt(n,a);i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,a),t!==null&&(tt(t,e,a,n),Ys(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),a=Ht(e),i=vt(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vt(e,i,a),t!==null&&(tt(t,e,a,n),Ys(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=Ht(e),a=vt(r,n);a.tag=2,t!=null&&(a.callback=t),t=Vt(e,a,n),t!==null&&(tt(t,e,n,r),Ys(t,e,n))}};function Hc(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xn(r,n)||!Xn(a,i):!0}function kh(e,t,r){var n=!1,a=Jt,i=t.contextType;return typeof i=="object"&&i!==null?i=We(i):(a=Re(t)?xr:be.current,n=t.contextTypes,i=(n=n!=null)?tn(e,a):Jt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function jo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},El(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=We(i):(i=Re(t)?xr:be.current,a.context=tn(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bo(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qa.enqueueReplaceState(a,a.state,null),ba(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function an(e,t){try{var r="",n=t;do r+=Um(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ri(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function No(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var f0=typeof WeakMap=="function"?WeakMap:Map;function _h(e,t,r){r=vt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sa||(Sa=!0,Oo=n),No(e,t)},r}function Sh(e,t,r){r=vt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){No(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){No(e,t),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Gc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new f0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=E0.bind(null,e,t,r),t.then(e,e))}function Kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qc(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vt(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var m0=St.ReactCurrentOwner,Te=!1;function je(e,t,r,n){t.child=e===null?th(t,null,r,n):nn(t,e.child,r,n)}function Jc(e,t,r,n,a){r=r.render;var i=t.ref;return Jr(t,a),n=Rl(e,t,r,n,i,a),r=Ol(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jt(e,t,a)):(J&&r&&wl(t),t.flags|=1,je(e,t,n,a),t.child)}function Xc(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Vl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Eh(e,t,i,n,a)):(e=sa(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xn,r(o,n)&&e.ref===t.ref)return jt(e,t,a)}return t.flags|=1,e=Wt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Xn(i,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,jt(e,t,a)}return ko(e,t,r,n,a)}function Ch(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Hr,Le),Le|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Hr,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Hr,Le),Le|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,G(Hr,Le),Le|=n;return je(e,t,a,r),t.child}function Ph(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,r,n,a){var i=Re(r)?xr:be.current;return i=tn(t,i),Jr(t,a),r=Rl(e,t,r,n,i,a),n=Ol(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jt(e,t,a)):(J&&n&&wl(t),t.flags|=1,je(e,t,r,a),t.child)}function Yc(e,t,r,n,a){if(Re(r)){var i=!0;ga(t)}else i=!1;if(Jr(t,a),t.stateNode===null)ta(e,t),kh(t,r,n),jo(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Re(r)?xr:be.current,u=tn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Wc(t,o,n,u),Tt=!1;var p=t.memoizedState;o.state=p,ba(t,n,o,a),c=t.memoizedState,l!==n||p!==c||$e.current||Tt?(typeof d=="function"&&(bo(t,r,d,n),c=t.memoizedState),(l=Tt||Hc(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,nh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Je(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=We(c):(c=Re(r)?xr:be.current,c=tn(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Wc(t,o,n,c),Tt=!1,p=t.memoizedState,o.state=p,ba(t,n,o,a);var x=t.memoizedState;l!==h||p!==x||$e.current||Tt?(typeof y=="function"&&(bo(t,r,y,n),x=t.memoizedState),(u=Tt||Hc(t,r,u,n,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return _o(e,t,r,n,i,a)}function _o(e,t,r,n,a,i){Ph(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Mc(t,r,!1),jt(e,t,i);n=t.stateNode,m0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=nn(t,e.child,null,i),t.child=nn(t,null,l,i)):je(e,t,l,i),t.memoizedState=n.state,a&&Mc(t,r,!0),t.child}function Th(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),Cl(e,t.containerInfo)}function Zc(e,t,r,n,a){return rn(),jl(a),t.flags|=256,je(e,t,r,n),t.child}var So={dehydrated:null,treeContext:null,retryLane:0};function Eo(e){return{baseLanes:e,cachePool:null,transitions:null}}function $h(e,t,r){var n=t.pendingProps,a=X.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(X,a&1),e===null)return yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ga(o,n,0,null),e=pr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eo(r),t.memoizedState=So,e):Il(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return p0(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wt(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Wt(l,i):(i=pr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Eo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=So,n}return i=e.child,e=i.sibling,n=Wt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Il(e,t){return t=Ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,r,n){return n!==null&&jl(n),nn(t,e.child,null,r),e=Il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p0(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ri(Error(E(422))),Ms(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ga({mode:"visible",children:n.children},a,0,null),i=pr(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&nn(t,e.child,null,o),t.child.memoizedState=Eo(o),t.memoizedState=So,i);if(!(t.mode&1))return Ms(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=Ri(i,n,void 0),Ms(e,t,o,n)}if(l=(o&e.childLanes)!==0,Te||l){if(n=fe,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,bt(e,a),tt(n,e,a,-1))}return Bl(),n=Ri(Error(E(421))),Ms(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=C0.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ae=Bt(a.nextSibling),Ie=t,J=!0,Ze=null,e!==null&&(Fe[Be++]=gt,Fe[Be++]=xt,Fe[Be++]=vr,gt=e.id,xt=e.overflow,vr=t),t=Il(t,n.children),t.flags|=4096,t)}function eu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wo(e.return,t,r)}function Oi(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Rh(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(je(e,t,n.children,r),n=X.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,r,t);else if(e.tag===19)eu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(G(X,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ja(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Oi(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ja(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Oi(t,!0,r,null,i);break;case"together":Oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function g0(e,t,r){switch(t.tag){case 3:Th(t),rn();break;case 5:sh(t);break;case 1:Re(t.type)&&ga(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;G(ya,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(G(X,X.current&1),t.flags|=128,null):r&t.child.childLanes?$h(e,t,r):(G(X,X.current&1),e=jt(e,t,r),e!==null?e.sibling:null);G(X,X.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Rh(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(X,X.current),n)break;return null;case 22:case 23:return t.lanes=0,Ch(e,t,r)}return jt(e,t,r)}var Oh,Co,Lh,Ah;Oh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Co=function(){};Lh=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,hr(ct.current);var i=null;switch(r){case"input":a=Qi(e,a),n=Qi(e,n),i=[];break;case"select":a=ee({},a,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":a=Yi(e,a),n=Yi(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ma)}eo(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&K("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ah=function(e,t,r,n){r!==n&&(t.flags|=4)};function jn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function x0(e,t,r){var n=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return Re(t.type)&&pa(),ve(t),null;case 3:return n=t.stateNode,sn(),Q($e),Q(be),Tl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(As(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(Io(Ze),Ze=null))),Co(e,t),ve(t),null;case 5:Pl(t);var a=hr(rs.current);if(r=t.type,e!==null&&t.stateNode!=null)Lh(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ve(t),null}if(e=hr(ct.current),As(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ot]=t,n[es]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(a=0;a<Cn.length;a++)K(Cn[a],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":cc(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":dc(n,i),K("invalid",n)}eo(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,l,e),a=["children",""+l]):qn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":Ss(n),uc(n,i,!0);break;case"textarea":Ss(n),hc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ma)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ot]=t,e[es]=n,Oh(e,t,!1,!1),t.stateNode=e;e:{switch(o=to(r,n),r){case"dialog":K("cancel",e),K("close",e),a=n;break;case"iframe":case"object":case"embed":K("load",e),a=n;break;case"video":case"audio":for(a=0;a<Cn.length;a++)K(Cn[a],e);a=n;break;case"source":K("error",e),a=n;break;case"img":case"image":case"link":K("error",e),K("load",e),a=n;break;case"details":K("toggle",e),a=n;break;case"input":cc(e,n),a=Qi(e,n),K("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ee({},n,{value:void 0}),K("invalid",e);break;case"textarea":dc(e,n),a=Yi(e,n),K("invalid",e);break;default:a=n}eo(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ud(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hn(e,c):typeof c=="number"&&Hn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&K("scroll",e):c!=null&&il(e,i,c,o))}switch(r){case"input":Ss(e),uc(e,n,!1);break;case"textarea":Ss(e),hc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ma)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)Ah(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=hr(rs.current),hr(ct.current),As(t)){if(n=t.stateNode,r=t.memoizedProps,n[ot]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:Ls(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=t,t.stateNode=n}return ve(t),null;case 13:if(Q(X),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ae!==null&&t.mode&1&&!(t.flags&128))Zd(),rn(),t.flags|=98560,i=!1;else if(i=As(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ot]=t}else rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else Ze!==null&&(Io(Ze),Ze=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?ce===0&&(ce=3):Bl())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return sn(),Co(e,t),e===null&&Yn(t.stateNode.containerInfo),ve(t),null;case 10:return _l(t.type._context),ve(t),null;case 17:return Re(t.type)&&pa(),ve(t),null;case 19:if(Q(X),i=t.memoizedState,i===null)return ve(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)jn(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ja(e),o!==null){for(t.flags|=128,jn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return G(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>on&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ja(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ve(t),null}else 2*se()-i.renderingStartTime>on&&r!==1073741824&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,r=X.current,G(X,n?r&1|2:r&1),t):(ve(t),null);case 22:case 23:return Fl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Le&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function v0(e,t){switch(bl(t),t.tag){case 1:return Re(t.type)&&pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(),Q($e),Q(be),Tl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pl(t),null;case 13:if(Q(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(X),null;case 4:return sn(),null;case 10:return _l(t.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var zs=!1,we=!1,y0=typeof WeakSet=="function"?WeakSet:Set,R=null;function qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(e,t,n)}else r.current=null}function Po(e,t,r){try{r()}catch(n){te(e,t,n)}}var tu=!1;function w0(e,t){if(ho=da,e=Ud(),yl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var y;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===r&&++u===a&&(l=o),p===i&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fo={focusedElem:e,selectionRange:r},da=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,j=x.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:Je(t.type,w),j);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){te(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return x=tu,tu=!1,x}function In(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Po(t,r,i)}a=a.next}while(a!==n)}}function Ha(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function To(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[es],delete t[go],delete t[r0],delete t[n0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mh(e){return e.tag===5||e.tag===3||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ma));else if(n!==4&&(e=e.child,e!==null))for($o(e,t,r),e=e.sibling;e!==null;)$o(e,t,r),e=e.sibling}function Ro(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ro(e,t,r),e=e.sibling;e!==null;)Ro(e,t,r),e=e.sibling}var me=null,Xe=!1;function Et(e,t,r){for(r=r.child;r!==null;)zh(e,t,r),r=r.sibling}function zh(e,t,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ma,r)}catch{}switch(r.tag){case 5:we||qr(r,t);case 6:var n=me,a=Xe;me=null,Et(e,t,r),me=n,Xe=a,me!==null&&(Xe?(e=me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Xe?(e=me,r=r.stateNode,e.nodeType===8?Si(e.parentNode,r):e.nodeType===1&&Si(e,r),Qn(e)):Si(me,r.stateNode));break;case 4:n=me,a=Xe,me=r.stateNode.containerInfo,Xe=!0,Et(e,t,r),me=n,Xe=a;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Po(r,t,o),a=a.next}while(a!==n)}Et(e,t,r);break;case 1:if(!we&&(qr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){te(r,t,l)}Et(e,t,r);break;case 21:Et(e,t,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,Et(e,t,r),we=n):Et(e,t,r);break;default:Et(e,t,r)}}function nu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new y0),t.forEach(function(n){var a=P0.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:me=l.stateNode,Xe=!1;break e;case 3:me=l.stateNode.containerInfo,Xe=!0;break e;case 4:me=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(me===null)throw Error(E(160));zh(i,o,a),me=null,Xe=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){te(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dh(t,e),t=t.sibling}function Dh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),at(e),n&4){try{In(3,e,e.return),Ha(3,e)}catch(w){te(e,e.return,w)}try{In(5,e,e.return)}catch(w){te(e,e.return,w)}}break;case 1:Ke(t,e),at(e),n&512&&r!==null&&qr(r,r.return);break;case 5:if(Ke(t,e),at(e),n&512&&r!==null&&qr(r,r.return),e.flags&32){var a=e.stateNode;try{Hn(a,"")}catch(w){te(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&od(a,i),to(l,o);var u=to(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?hd(a,h):d==="dangerouslySetInnerHTML"?ud(a,h):d==="children"?Hn(a,h):il(a,d,h,u)}switch(l){case"input":Ji(a,i);break;case"textarea":ld(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wr(a,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Wr(a,!!i.multiple,i.defaultValue,!0):Wr(a,!!i.multiple,i.multiple?[]:"",!1))}a[es]=i}catch(w){te(e,e.return,w)}}break;case 6:if(Ke(t,e),at(e),n&4){if(e.stateNode===null)throw Error(E(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){te(e,e.return,w)}}break;case 3:if(Ke(t,e),at(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(w){te(e,e.return,w)}break;case 4:Ke(t,e),at(e);break;case 13:Ke(t,e),at(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Dl=se())),n&4&&nu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(we=(u=we)||d,Ke(t,e),we=u):Ke(t,e),at(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(p=R,y=p.child,p.tag){case 0:case 11:case 14:case 15:In(4,p,p.return);break;case 1:qr(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){te(n,r,w)}}break;case 5:qr(p,p.return);break;case 22:if(p.memoizedState!==null){au(h);continue}}y!==null?(y.return=p,R=y):au(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dd("display",o))}catch(w){te(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){te(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),at(e),n&4&&nu(e);break;case 21:break;default:Ke(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Hn(a,""),n.flags&=-33);var i=ru(e);Ro(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ru(e);$o(e,l,o);break;default:throw Error(E(161))}}catch(c){te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b0(e,t,r){R=e,Uh(e)}function Uh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var a=R,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||zs;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||we;l=zs;var u=we;if(zs=o,(we=c)&&!u)for(R=a;R!==null;)o=R,c=o.child,o.tag===22&&o.memoizedState!==null?iu(a):c!==null?(c.return=o,R=c):iu(a);for(;i!==null;)R=i,Uh(i),i=i.sibling;R=a,zs=l,we=u}su(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,R=i):su(e)}}function su(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||Ha(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!we)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Je(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}we||t.flags&512&&To(t)}catch(p){te(t,t.return,p)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function au(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function iu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ha(4,t)}catch(c){te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){te(t,a,c)}}var i=t.return;try{To(t)}catch(c){te(t,i,c)}break;case 5:var o=t.return;try{To(t)}catch(c){te(t,o,c)}}}catch(c){te(t,t.return,c)}if(t===e){R=null;break}var l=t.sibling;if(l!==null){l.return=t.return,R=l;break}R=t.return}}var j0=Math.ceil,_a=St.ReactCurrentDispatcher,Ml=St.ReactCurrentOwner,qe=St.ReactCurrentBatchConfig,V=0,fe=null,ie=null,pe=0,Le=0,Hr=Yt(0),ce=0,is=null,wr=0,Wa=0,zl=0,Mn=null,Ce=null,Dl=0,on=1/0,ft=null,Sa=!1,Oo=null,qt=null,Ds=!1,Mt=null,Ea=0,zn=0,Lo=null,ra=-1,na=0;function ke(){return V&6?se():ra!==-1?ra:ra=se()}function Ht(e){return e.mode&1?V&2&&pe!==0?pe&-pe:a0.transition!==null?(na===0&&(na=kd()),na):(e=H,e!==0||(e=window.event,e=e===void 0?16:$d(e.type)),e):1}function tt(e,t,r,n){if(50<zn)throw zn=0,Lo=null,Error(E(185));hs(e,r,n),(!(V&2)||e!==fe)&&(e===fe&&(!(V&2)&&(Wa|=r),ce===4&&Ot(e,pe)),Oe(e,n),r===1&&V===0&&!(t.mode&1)&&(on=se()+500,Ba&&Zt()))}function Oe(e,t){var r=e.callbackNode;ap(e,t);var n=ua(e,e===fe?pe:0);if(n===0)r!==null&&pc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pc(r),t===1)e.tag===0?s0(ou.bind(null,e)):Jd(ou.bind(null,e)),e0(function(){!(V&6)&&Zt()}),r=null;else{switch(_d(n)){case 1:r=dl;break;case 4:r=jd;break;case 16:r=ca;break;case 536870912:r=Nd;break;default:r=ca}r=Kh(r,Fh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fh(e,t){if(ra=-1,na=0,V&6)throw Error(E(327));var r=e.callbackNode;if(Xr()&&e.callbackNode!==r)return null;var n=ua(e,e===fe?pe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ca(e,n);else{t=n;var a=V;V|=2;var i=Vh();(fe!==e||pe!==t)&&(ft=null,on=se()+500,mr(e,t));do try{_0();break}catch(l){Bh(e,l)}while(!0);kl(),_a.current=i,V=a,ie!==null?t=0:(fe=null,pe=0,t=ce)}if(t!==0){if(t===2&&(a=io(e),a!==0&&(n=a,t=Ao(e,a))),t===1)throw r=is,mr(e,0),Ot(e,n),Oe(e,se()),r;if(t===6)Ot(e,n);else{if(a=e.current.alternate,!(n&30)&&!N0(a)&&(t=Ca(e,n),t===2&&(i=io(e),i!==0&&(n=i,t=Ao(e,i))),t===1))throw r=is,mr(e,0),Ot(e,n),Oe(e,se()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:or(e,Ce,ft);break;case 3:if(Ot(e,n),(n&130023424)===n&&(t=Dl+500-se(),10<t)){if(ua(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=po(or.bind(null,e,Ce,ft),t);break}or(e,Ce,ft);break;case 4:if(Ot(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-et(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*j0(n/1960))-n,10<n){e.timeoutHandle=po(or.bind(null,e,Ce,ft),n);break}or(e,Ce,ft);break;case 5:or(e,Ce,ft);break;default:throw Error(E(329))}}}return Oe(e,se()),e.callbackNode===r?Fh.bind(null,e):null}function Ao(e,t){var r=Mn;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=Ca(e,t),e!==2&&(t=Ce,Ce=r,t!==null&&Io(t)),e}function Io(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function N0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!nt(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ot(e,t){for(t&=~zl,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-et(t),n=1<<r;e[r]=-1,t&=~n}}function ou(e){if(V&6)throw Error(E(327));Xr();var t=ua(e,0);if(!(t&1))return Oe(e,se()),null;var r=Ca(e,t);if(e.tag!==0&&r===2){var n=io(e);n!==0&&(t=n,r=Ao(e,n))}if(r===1)throw r=is,mr(e,0),Ot(e,t),Oe(e,se()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Ce,ft),Oe(e,se()),null}function Ul(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(on=se()+500,Ba&&Zt())}}function br(e){Mt!==null&&Mt.tag===0&&!(V&6)&&Xr();var t=V;V|=1;var r=qe.transition,n=H;try{if(qe.transition=null,H=1,e)return e()}finally{H=n,qe.transition=r,V=t,!(V&6)&&Zt()}}function Fl(){Le=Hr.current,Q(Hr)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zp(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pa();break;case 3:sn(),Q($e),Q(be),Tl();break;case 5:Pl(n);break;case 4:sn();break;case 13:Q(X);break;case 19:Q(X);break;case 10:_l(n.type._context);break;case 22:case 23:Fl()}r=r.return}if(fe=e,ie=e=Wt(e.current,null),pe=Le=t,ce=0,is=null,zl=Wa=wr=0,Ce=Mn=null,dr!==null){for(t=0;t<dr.length;t++)if(r=dr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}dr=null}return e}function Bh(e,t){do{var r=ie;try{if(kl(),Zs.current=ka,Na){for(var n=Z.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Na=!1}if(yr=0,he=le=Z=null,An=!1,ns=0,Ml.current=null,r===null||r.return===null){ce=1,is=t,ie=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=pe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Kc(o);if(y!==null){y.flags&=-257,Qc(y,o,l,i,t),y.mode&1&&Gc(i,u,t),t=y,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){Gc(i,u,t),Bl();break e}c=Error(E(426))}}else if(J&&l.mode&1){var j=Kc(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Qc(j,o,l,i,t),jl(an(c,l));break e}}i=c=an(c,l),ce!==4&&(ce=2),Mn===null?Mn=[i]:Mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=_h(i,c,t);Fc(i,f);break e;case 1:l=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qt===null||!qt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=Sh(i,l,t);Fc(i,v);break e}}i=i.return}while(i!==null)}Hh(r)}catch(N){t=N,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Vh(){var e=_a.current;return _a.current=ka,e===null?ka:e}function Bl(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(wr&268435455)&&!(Wa&268435455)||Ot(fe,pe)}function Ca(e,t){var r=V;V|=2;var n=Vh();(fe!==e||pe!==t)&&(ft=null,mr(e,t));do try{k0();break}catch(a){Bh(e,a)}while(!0);if(kl(),V=r,_a.current=n,ie!==null)throw Error(E(261));return fe=null,pe=0,ce}function k0(){for(;ie!==null;)qh(ie)}function _0(){for(;ie!==null&&!Jm();)qh(ie)}function qh(e){var t=Gh(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Hh(e):ie=t,Ml.current=null}function Hh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=v0(r,t),r!==null){r.flags&=32767,ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,ie=null;return}}else if(r=x0(r,t,Le),r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);ce===0&&(ce=5)}function or(e,t,r){var n=H,a=qe.transition;try{qe.transition=null,H=1,S0(e,t,r,n)}finally{qe.transition=a,H=n}return null}function S0(e,t,r,n){do Xr();while(Mt!==null);if(V&6)throw Error(E(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ip(e,i),e===fe&&(ie=fe=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ds||(Ds=!0,Kh(ca,function(){return Xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=H;H=1;var l=V;V|=4,Ml.current=null,w0(e,r),Dh(r,e),Wp(fo),da=!!ho,fo=ho=null,e.current=r,b0(r),Xm(),V=l,H=o,qe.transition=i}else e.current=r;if(Ds&&(Ds=!1,Mt=e,Ea=a),i=e.pendingLanes,i===0&&(qt=null),ep(r.stateNode),Oe(e,se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Sa)throw Sa=!1,e=Oo,Oo=null,e;return Ea&1&&e.tag!==0&&Xr(),i=e.pendingLanes,i&1?e===Lo?zn++:(zn=0,Lo=e):zn=0,Zt(),null}function Xr(){if(Mt!==null){var e=_d(Ea),t=qe.transition,r=H;try{if(qe.transition=null,H=16>e?16:e,Mt===null)var n=!1;else{if(e=Mt,Mt=null,Ea=0,V&6)throw Error(E(331));var a=V;for(V|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:In(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var p=d.sibling,y=d.return;if(Ih(d),d===u){R=null;break}if(p!==null){p.return=y,R=p;break}R=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:In(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,R=f;break e}R=i.return}}var m=e.current;for(R=m;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=m;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ha(9,l)}}catch(N){te(l,l.return,N)}if(l===o){R=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,R=v;break e}R=l.return}}if(V=a,Zt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ma,e)}catch{}n=!0}return n}finally{H=r,qe.transition=t}}return!1}function lu(e,t,r){t=an(r,t),t=_h(e,t,1),e=Vt(e,t,1),t=ke(),e!==null&&(hs(e,1,t),Oe(e,t))}function te(e,t,r){if(e.tag===3)lu(e,e,r);else for(;t!==null;){if(t.tag===3){lu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){e=an(r,e),e=Sh(t,e,1),t=Vt(t,e,1),e=ke(),t!==null&&(hs(t,1,e),Oe(t,e));break}}t=t.return}}function E0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(pe&r)===r&&(ce===4||ce===3&&(pe&130023424)===pe&&500>se()-Dl?mr(e,0):zl|=r),Oe(e,t)}function Wh(e,t){t===0&&(e.mode&1?(t=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):t=1);var r=ke();e=bt(e,t),e!==null&&(hs(e,t,r),Oe(e,r))}function C0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wh(e,r)}function P0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Wh(e,r)}var Gh;Gh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Te=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Te=!1,g0(e,t,r);Te=!!(e.flags&131072)}else Te=!1,J&&t.flags&1048576&&Xd(t,va,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ta(e,t),e=t.pendingProps;var a=tn(t,be.current);Jr(t,r),a=Rl(null,t,n,e,a,r);var i=Ol();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(i=!0,ga(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,El(t),a.updater=qa,t.stateNode=a,a._reactInternals=t,jo(t,n,e,r),t=_o(null,t,n,!0,i,r)):(t.tag=0,J&&i&&wl(t),je(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ta(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=$0(n),e=Je(n,e),a){case 0:t=ko(null,t,n,e,r);break e;case 1:t=Yc(null,t,n,e,r);break e;case 11:t=Jc(null,t,n,e,r);break e;case 14:t=Xc(null,t,n,Je(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),ko(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),Yc(e,t,n,a,r);case 3:e:{if(Th(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,a=i.element,nh(e,t),ba(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=an(Error(E(423)),t),t=Zc(e,t,n,r,a);break e}else if(n!==a){a=an(Error(E(424)),t),t=Zc(e,t,n,r,a);break e}else for(Ae=Bt(t.stateNode.containerInfo.firstChild),Ie=t,J=!0,Ze=null,r=th(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rn(),n===a){t=jt(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return sh(t),e===null&&yo(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,mo(n,a)?o=null:i!==null&&mo(n,i)&&(t.flags|=32),Ph(e,t),je(e,t,o,r),t.child;case 6:return e===null&&yo(t),null;case 13:return $h(e,t,r);case 4:return Cl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nn(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),Jc(e,t,n,a,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,G(ya,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===a.children&&!$e.current){t=jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=vt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),wo(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),wo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Jr(t,r),a=We(a),n=n(a),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,a=Je(n,t.pendingProps),a=Je(n.type,a),Xc(e,t,n,a,r);case 15:return Eh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Je(n,a),ta(e,t),t.tag=1,Re(n)?(e=!0,ga(t)):e=!1,Jr(t,r),kh(t,n,a),jo(t,n,a,r),_o(null,t,n,!0,e,r);case 19:return Rh(e,t,r);case 22:return Ch(e,t,r)}throw Error(E(156,t.tag))};function Kh(e,t){return bd(e,t)}function T0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,r,n){return new T0(e,t,r,n)}function Vl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $0(e){if(typeof e=="function")return Vl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ll)return 11;if(e===cl)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=Ve(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function sa(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Vl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ar:return pr(r.children,a,i,t);case ol:o=8,a|=8;break;case Hi:return e=Ve(12,r,t,a|2),e.elementType=Hi,e.lanes=i,e;case Wi:return e=Ve(13,r,t,a),e.elementType=Wi,e.lanes=i,e;case Gi:return e=Ve(19,r,t,a),e.elementType=Gi,e.lanes=i,e;case sd:return Ga(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rd:o=10;break e;case nd:o=9;break e;case ll:o=11;break e;case cl:o=14;break e;case Pt:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ve(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function pr(e,t,r,n){return e=Ve(7,e,n,t),e.lanes=r,e}function Ga(e,t,r,n){return e=Ve(22,e,n,t),e.elementType=sd,e.lanes=r,e.stateNode={isHidden:!1},e}function Li(e,t,r){return e=Ve(6,e,null,t),e.lanes=r,e}function Ai(e,t,r){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R0(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ql(e,t,r,n,a,i,o,l,c){return e=new R0(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),e}function O0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qh(e){if(!e)return Jt;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Re(r))return Qd(e,r,t)}return t}function Jh(e,t,r,n,a,i,o,l,c){return e=ql(r,n,!0,e,a,i,o,l,c),e.context=Qh(null),r=e.current,n=ke(),a=Ht(r),i=vt(n,a),i.callback=t??null,Vt(r,i,a),e.current.lanes=a,hs(e,a,n),Oe(e,n),e}function Ka(e,t,r,n){var a=t.current,i=ke(),o=Ht(a);return r=Qh(r),t.context===null?t.context=r:t.pendingContext=r,t=vt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(a,t,o),e!==null&&(tt(e,a,o,i),Ys(e,a,o)),o}function Pa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hl(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function L0(){return null}var Xh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}Qa.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ka(e,t,null,null)};Qa.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Ka(null,e,null,null)}),t[wt]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&t!==0&&t<Rt[r].priority;r++);Rt.splice(r,0,e),r===0&&Td(e)}};function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uu(){}function A0(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Pa(o);i.call(u)}}var o=Jh(t,n,e,0,null,!1,!1,"",uu);return e._reactRootContainer=o,e[wt]=o.current,Yn(e.nodeType===8?e.parentNode:e),br(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Pa(c);l.call(u)}}var c=ql(e,0,!1,null,null,!1,!1,"",uu);return e._reactRootContainer=c,e[wt]=c.current,Yn(e.nodeType===8?e.parentNode:e),br(function(){Ka(t,c,r,n)}),c}function Xa(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Pa(o);l.call(c)}}Ka(t,o,e,a)}else o=A0(r,t,e,a,n);return Pa(o)}Sd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=En(t.pendingLanes);r!==0&&(hl(t,r|1),Oe(t,se()),!(V&6)&&(on=se()+500,Zt()))}break;case 13:br(function(){var n=bt(e,1);if(n!==null){var a=ke();tt(n,e,1,a)}}),Hl(e,1)}};fl=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=ke();tt(t,e,134217728,r)}Hl(e,134217728)}};Ed=function(e){if(e.tag===13){var t=Ht(e),r=bt(e,t);if(r!==null){var n=ke();tt(r,e,t,n)}Hl(e,t)}};Cd=function(){return H};Pd=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};no=function(e,t,r){switch(t){case"input":if(Ji(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Fa(n);if(!a)throw Error(E(90));id(n),Ji(n,a)}}}break;case"textarea":ld(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};pd=Ul;gd=br;var I0={usingClientEntryPoint:!1,Events:[ms,Dr,Fa,fd,md,Ul]},Nn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M0={bundleType:Nn.bundleType,version:Nn.version,rendererPackageName:Nn.rendererPackageName,rendererConfig:Nn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yd(e),e===null?null:e.stateNode},findFiberByHostInstance:Nn.findFiberByHostInstance||L0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Ma=Us.inject(M0),lt=Us}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I0;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gl(t))throw Error(E(200));return O0(e,t,null,r)};ze.createRoot=function(e,t){if(!Gl(e))throw Error(E(299));var r=!1,n="",a=Xh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ql(e,1,!1,null,null,r,!1,n,a),e[wt]=t.current,Yn(e.nodeType===8?e.parentNode:e),new Wl(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=yd(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return br(e)};ze.hydrate=function(e,t,r){if(!Ja(t))throw Error(E(200));return Xa(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!Gl(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Xh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Jh(t,null,e,1,r??null,a,!1,i,o),e[wt]=t.current,Yn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Qa(t)};ze.render=function(e,t,r){if(!Ja(t))throw Error(E(200));return Xa(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!Ja(e))throw Error(E(40));return e._reactRootContainer?(br(function(){Xa(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};ze.unstable_batchedUpdates=Ul;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ja(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Xa(e,t,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function Yh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yh)}catch(e){console.error(e)}}Yh(),Yu.exports=ze;var z0=Yu.exports,Zh,du=z0;Zh=du.createRoot,du.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}var zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zt||(zt={}));const hu="popstate";function D0(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Mo("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ta(a)}return F0(t,r,null,e)}function oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ef(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U0(){return Math.random().toString(36).substr(2,8)}function fu(e,t){return{usr:e.state,key:e.key,idx:t}}function Mo(e,t,r,n){return r===void 0&&(r=null),os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hn(t):t,{state:r,key:t&&t.key||n||U0()})}function Ta(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function F0(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=zt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(os({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=zt.Pop;let j=d(),f=j==null?null:j-u;u=j,c&&c({action:l,location:w.location,delta:f})}function p(j,f){l=zt.Push;let m=Mo(w.location,j,f);u=d()+1;let g=fu(m,u),v=w.createHref(m);try{o.pushState(g,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(v)}i&&c&&c({action:l,location:w.location,delta:1})}function y(j,f){l=zt.Replace;let m=Mo(w.location,j,f);u=d();let g=fu(m,u),v=w.createHref(m);o.replaceState(g,"",v),i&&c&&c({action:l,location:w.location,delta:0})}function x(j){let f=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof j=="string"?j:Ta(j);return m=m.replace(/ $/,"%20"),oe(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let w={get action(){return l},get location(){return e(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(hu,h),c=j,()=>{a.removeEventListener(hu,h),c=null}},createHref(j){return t(a,j)},createURL:x,encodeLocation(j){let f=x(j);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:y,go(j){return o.go(j)}};return w}var mu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mu||(mu={}));function B0(e,t,r){return r===void 0&&(r="/"),V0(e,t,r)}function V0(e,t,r,n){let a=typeof t=="string"?hn(t):t,i=Kl(a.pathname||"/",r);if(i==null)return null;let o=tf(e);q0(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=rg(i);l=Z0(o[c],u)}return l}function tf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(oe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gt([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:X0(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of rf(i.path))a(i,o,c)}),t}function rf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=rf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function q0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const H0=/^:[\w-]+$/,W0=3,G0=2,K0=1,Q0=10,J0=-2,pu=e=>e==="*";function X0(e,t){let r=e.split("/"),n=r.length;return r.some(pu)&&(n+=J0),t&&(n+=G0),r.filter(a=>!pu(a)).reduce((a,i)=>a+(H0.test(i)?W0:i===""?K0:Q0),n)}function Y0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Z0(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=eg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Gt([i,h.pathname]),pathnameBase:ig(Gt([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return o}function eg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tg(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[h];return y&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function tg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ef(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function rg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ef(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ng(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?hn(e):e;return{pathname:r?r.startsWith("/")?r:sg(r,t):t,search:og(n),hash:lg(a)}}function sg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ii(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ag(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nf(e,t){let r=ag(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sf(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=hn(e):(a=os({},e),oe(!a.pathname||!a.pathname.includes("?"),Ii("?","pathname","search",a)),oe(!a.pathname||!a.pathname.includes("#"),Ii("#","pathname","hash",a)),oe(!a.search||!a.search.includes("#"),Ii("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=ng(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),ig=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),og=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const af=["post","put","patch","delete"];new Set(af);const ug=["get",...af];new Set(ug);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}const Ql=b.createContext(null),dg=b.createContext(null),_r=b.createContext(null),Ya=b.createContext(null),er=b.createContext({outlet:null,matches:[],isDataRoute:!1}),of=b.createContext(null);function hg(e,t){let{relative:r}=t===void 0?{}:t;gs()||oe(!1);let{basename:n,navigator:a}=b.useContext(_r),{hash:i,pathname:o,search:l}=uf(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Gt([n,o])),a.createHref({pathname:c,search:l,hash:i})}function gs(){return b.useContext(Ya)!=null}function fn(){return gs()||oe(!1),b.useContext(Ya).location}function lf(e){b.useContext(_r).static||b.useLayoutEffect(e)}function cf(){let{isDataRoute:e}=b.useContext(er);return e?Sg():fg()}function fg(){gs()||oe(!1);let e=b.useContext(Ql),{basename:t,future:r,navigator:n}=b.useContext(_r),{matches:a}=b.useContext(er),{pathname:i}=fn(),o=JSON.stringify(nf(a,r.v7_relativeSplatPath)),l=b.useRef(!1);return lf(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=sf(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function mg(){let{matches:e}=b.useContext(er),t=e[e.length-1];return t?t.params:{}}function uf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(_r),{matches:a}=b.useContext(er),{pathname:i}=fn(),o=JSON.stringify(nf(a,n.v7_relativeSplatPath));return b.useMemo(()=>sf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function pg(e,t){return gg(e,t)}function gg(e,t,r,n){gs()||oe(!1);let{navigator:a}=b.useContext(_r),{matches:i}=b.useContext(er),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=fn(),d;if(t){var h;let j=typeof t=="string"?hn(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||oe(!1),d=j}else d=u;let p=d.pathname||"/",y=p;if(c!=="/"){let j=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=B0(e,{pathname:y}),w=bg(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Gt([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Gt([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&w?b.createElement(Ya.Provider,{value:{location:ls({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zt.Pop}},w):w}function xg(){let e=_g(),t=cg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const vg=b.createElement(xg,null);class yg extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(er.Provider,{value:this.props.routeContext},b.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wg(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(Ql);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(er.Provider,{value:t},n)}function bg(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||oe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:y}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let y,x=!1,w=null,j=null;r&&(y=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||vg,c&&(u<0&&p===0?(Eg("route-fallback"),x=!0,j=null):u===p&&(x=!0,j=h.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,p+1)),m=()=>{let g;return y?g=w:x?g=j:h.route.Component?g=b.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,b.createElement(wg,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?b.createElement(yg,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var df=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(df||{}),hf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hf||{});function jg(e){let t=b.useContext(Ql);return t||oe(!1),t}function Ng(e){let t=b.useContext(dg);return t||oe(!1),t}function kg(e){let t=b.useContext(er);return t||oe(!1),t}function ff(e){let t=kg(),r=t.matches[t.matches.length-1];return r.route.id||oe(!1),r.route.id}function _g(){var e;let t=b.useContext(of),r=Ng(),n=ff();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Sg(){let{router:e}=jg(df.UseNavigateStable),t=ff(hf.UseNavigateStable),r=b.useRef(!1);return lf(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ls({fromRouteId:t},i)))},[e,t])}const gu={};function Eg(e,t,r){gu[e]||(gu[e]=!0)}function Cg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ue(e){oe(!1)}function Pg(e){let{basename:t="/",children:r=null,location:n,navigationType:a=zt.Pop,navigator:i,static:o=!1,future:l}=e;gs()&&oe(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:ls({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=hn(n));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:x="default"}=n,w=b.useMemo(()=>{let j=Kl(d,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:y,key:x},navigationType:a}},[c,d,h,p,y,x,a]);return w==null?null:b.createElement(_r.Provider,{value:u},b.createElement(Ya.Provider,{children:r,value:w}))}function Tg(e){let{children:t,location:r}=e;return pg(zo(t),r)}new Promise(()=>{});function zo(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let i=[...t,a];if(n.type===b.Fragment){r.push.apply(r,zo(n.props.children,i));return}n.type!==Ue&&oe(!1),!n.props.index||!n.props.children||oe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zo(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Do.apply(this,arguments)}function $g(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Rg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Og(e,t){return e.button===0&&(!t||t==="_self")&&!Rg(e)}function Uo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Lg(e,t){let r=Uo(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Ag=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ig="6";try{window.__reactRouterVersion=Ig}catch{}const Mg="startTransition",xu=Em[Mg];function zg(e){let{basename:t,children:r,future:n,window:a}=e,i=b.useRef();i.current==null&&(i.current=D0({window:a,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&xu?xu(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>Cg(n),[n]),b.createElement(Pg,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Dg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=$g(t,Ag),{basename:y}=b.useContext(_r),x,w=!1;if(typeof u=="string"&&Ug.test(u)&&(x=u,Dg))try{let g=new URL(window.location.href),v=u.startsWith("//")?new URL(g.protocol+u):new URL(u),N=Kl(v.pathname,y);v.origin===g.origin&&N!=null?u=N+v.search+v.hash:w=!0}catch{}let j=hg(u,{relative:a}),f=Fg(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function m(g){n&&n(g),g.defaultPrevented||f(g)}return b.createElement("a",Do({},p,{href:x||j,onClick:w||i?n:m,ref:r,target:c}))});var vu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vu||(vu={}));var yu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yu||(yu={}));function Fg(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=cf(),u=fn(),d=uf(e,{relative:o});return b.useCallback(h=>{if(Og(h,r)){h.preventDefault();let p=n!==void 0?n:Ta(u)===Ta(d);c(e,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function mf(e){let t=b.useRef(Uo(e)),r=b.useRef(!1),n=fn(),a=b.useMemo(()=>Lg(n.search,r.current?null:t.current),[n.search]),i=cf(),o=b.useCallback((l,c)=>{const u=Uo(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}let Bg={data:""},Vg=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Bg,qg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hg=/\/\*[^]*?\*\/|  +/g,wu=/\n+/g,Lt=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Lt(o,i):i+"{"+Lt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Lt(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Lt.p?Lt.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},dt={},pf=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+pf(e[r]);return t}return e},Wg=(e,t,r,n,a)=>{let i=pf(e),o=dt[i]||(dt[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!dt[o]){let c=i!==e?e:(u=>{let d,h,p=[{}];for(;d=qg.exec(u.replace(Hg,""));)d[4]?p.shift():d[3]?(h=d[3].replace(wu," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(wu," ").trim();return p[0]})(e);dt[o]=Lt(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&dt.g?dt.g:null;return r&&(dt.g=dt[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(dt[o],t,n,l),o},Gg=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Lt(l,""):l===!1?"":l}return n+a+(o??"")},"");function Za(e){let t=this||{},r=e.call?e(t.p):e;return Wg(r.unshift?r.raw?Gg(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,Vg(t.target),t.g,t.o,t.k)}let gf,Fo,Bo;Za.bind({g:1});let Nt=Za.bind({k:1});function Kg(e,t,r,n){Lt.p=t,gf=e,Fo=r,Bo=n}function tr(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:Fo&&Fo()},l),r.o=/ *go\d+/.test(c),l.className=Za.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Bo&&u[0]&&Bo(l),gf(u,l)}return a}}var Qg=e=>typeof e=="function",$a=(e,t)=>Qg(e)?e(t):e,Jg=(()=>{let e=0;return()=>(++e).toString()})(),xf=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Xg=20,vf=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Xg)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return vf(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},aa=[],fr={toasts:[],pausedAt:void 0},Sr=e=>{fr=vf(fr,e),aa.forEach(t=>{t(fr)})},Yg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Zg=(e={})=>{let[t,r]=b.useState(fr),n=b.useRef(fr);b.useEffect(()=>(n.current!==fr&&r(fr),aa.push(r),()=>{let i=aa.indexOf(r);i>-1&&aa.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Yg[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},ex=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Jg()}),xs=e=>(t,r)=>{let n=ex(t,e,r);return Sr({type:2,toast:n}),n.id},Ne=(e,t)=>xs("blank")(e,t);Ne.error=xs("error");Ne.success=xs("success");Ne.loading=xs("loading");Ne.custom=xs("custom");Ne.dismiss=e=>{Sr({type:3,toastId:e})};Ne.remove=e=>Sr({type:4,toastId:e});Ne.promise=(e,t,r)=>{let n=Ne.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?$a(t.success,a):void 0;return i?Ne.success(i,{id:n,...r,...r==null?void 0:r.success}):Ne.dismiss(n),a}).catch(a=>{let i=t.error?$a(t.error,a):void 0;i?Ne.error(i,{id:n,...r,...r==null?void 0:r.error}):Ne.dismiss(n)}),e};var tx=(e,t)=>{Sr({type:1,toast:{id:e,height:t}})},rx=()=>{Sr({type:5,time:Date.now()})},Dn=new Map,nx=1e3,sx=(e,t=nx)=>{if(Dn.has(e))return;let r=setTimeout(()=>{Dn.delete(e),Sr({type:4,toastId:e})},t);Dn.set(e,r)},ax=e=>{let{toasts:t,pausedAt:r}=Zg(e);b.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Ne.dismiss(l.id);return}return setTimeout(()=>Ne.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=b.useCallback(()=>{r&&Sr({type:6,time:Date.now()})},[r]),a=b.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(y=>(y.position||u)===(i.position||u)&&y.height),h=d.findIndex(y=>y.id===i.id),p=d.filter((y,x)=>x<h&&y.visible).length;return d.filter(y=>y.visible).slice(...l?[p+1]:[0,p]).reduce((y,x)=>y+(x.height||0)+c,0)},[t]);return b.useEffect(()=>{t.forEach(i=>{if(i.dismissed)sx(i.id,i.removeDelay);else{let o=Dn.get(i.id);o&&(clearTimeout(o),Dn.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:tx,startPause:rx,endPause:n,calculateOffset:a}}},ix=Nt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ox=Nt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lx=Nt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,cx=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ix} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ox} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${lx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ux=Nt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,dx=tr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ux} 1s linear infinite;
`,hx=Nt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fx=Nt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mx=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,px=tr("div")`
  position: absolute;
`,gx=tr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xx=Nt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vx=tr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yx=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(vx,null,t):t:r==="blank"?null:b.createElement(gx,null,b.createElement(dx,{...n}),r!=="loading"&&b.createElement(px,null,r==="error"?b.createElement(cx,{...n}):b.createElement(mx,{...n})))},wx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,bx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,jx="0%{opacity:0;} 100%{opacity:1;}",Nx="0%{opacity:1;} 100%{opacity:0;}",kx=tr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_x=tr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Sx=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=xf()?[jx,Nx]:[wx(r),bx(r)];return{animation:t?`${Nt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ex=b.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?Sx(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(yx,{toast:e}),o=b.createElement(_x,{...e.ariaProps},$a(e.message,e));return b.createElement(kx,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});Kg(b.createElement);var Cx=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=b.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:i,className:t,style:r},a)},Px=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:xf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},Tx=Za`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fs=16,$x=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=ax(r);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Fs,left:Fs,right:Fs,bottom:Fs,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),p=Px(d,h);return b.createElement(Cx,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Tx:"",style:p},u.type==="custom"?$a(u.message,u):a?a(u):b.createElement(Ex,{toast:u,position:d}))}))},L=Ne;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...Rx,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Ox(e)}`,l].join(" "),...u},[...t.map(([h,p])=>b.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=O("BugOff",[["path",{d:"M15 7.13V6a3 3 0 0 0-5.14-2.1L8 2",key:"vl8zik"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M22 13h-4v-2a4 4 0 0 0-4-4h-1.3",key:"1ou0bd"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7.7 7.7A4 4 0 0 0 6 11v3a6 6 0 0 0 11.13 3.13",key:"1njkjs"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=O("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=O("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=O("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=O("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=O("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=O("Dice1",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=O("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=O("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=O("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=O("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=O("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=O("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=O("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=O("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=O("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=O("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=O("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=O("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=O("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=O("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=O("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=O("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=O("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=O("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=O("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=O("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=O("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=O("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=O("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=O("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=O("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=O("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=O("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),nv=()=>{const[e,t]=b.useState(!1),r=fn(),n=()=>t(!e),a=[{path:"/",label:"Inicio",icon:s.jsx(Sf,{size:20})},{path:"/boletos",label:"Boletos",icon:s.jsx(gr,{size:20})},{path:"/verificar",label:"Verificar",icon:s.jsx(wf,{size:20})},{path:"/contacto",label:"Contacto",icon:s.jsx(Oa,{size:20})},{path:"/admin",label:"Admin",icon:s.jsx(Hx,{size:20})},{path:"/admin/sorteos",label:"Sorteos",icon:s.jsx(ut,{size:20})}],i=o=>r.pathname===o;return s.jsxs("nav",{className:"bg-primary shadow-lg sticky top-0 z-50",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-24",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(Y,{to:"/",className:"flex-shrink-0",children:s.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0205/5752/9188/files/Logo-Terrapesca-01_205270e5-d546-4e33-a8d1-db0a91f1e554.png?v=1700262873",alt:"Terrapesca",className:"h-20 w-auto"})})}),s.jsx("div",{className:"hidden md:block",children:s.jsx("div",{className:"ml-10 flex items-center space-x-6",children:a.map(o=>s.jsxs(Y,{to:o.path,className:`px-6 py-3 rounded-lg text-lg font-semibold flex items-center space-x-2 transition-all transform hover:scale-105 ${i(o.path)?"bg-secondary text-white shadow-lg":"text-white hover:bg-primary-light hover:shadow-md"}`,children:[o.icon,s.jsx("span",{className:"ml-2",children:o.label})]},o.path))})}),s.jsx("div",{className:"md:hidden",children:s.jsxs("button",{onClick:n,className:"inline-flex items-center justify-center p-3 rounded-lg text-white hover:text-white hover:bg-primary-light focus:outline-none","aria-expanded":"false",children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),e?s.jsx(rt,{size:32}):s.jsx(Kx,{size:32})]})})]})}),e&&s.jsx("div",{className:"md:hidden bg-primary-dark",children:s.jsx("div",{className:"px-4 pt-3 pb-4 space-y-2",children:a.map(o=>s.jsxs(Y,{to:o.path,className:`block px-6 py-4 rounded-lg text-lg font-semibold flex items-center space-x-3 transition-colors ${i(o.path)?"bg-secondary text-white shadow-lg":"text-white hover:bg-primary-light"}`,onClick:()=>t(!1),children:[o.icon,s.jsx("span",{children:o.label})]},o.path))})})]})},_t=()=>s.jsx("footer",{className:"bg-primary text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0205/5752/9188/files/Logo-Terrapesca-01_205270e5-d546-4e33-a8d1-db0a91f1e554.png?v=1700262873",alt:"Terrapesca",className:"h-16 w-auto mb-6"}),s.jsx("p",{className:"text-accent mb-4",children:"Más allá de cualquier ganancia económica, nuestra prioridad es fortalecer el bienestar, la credibilidad y el posicionamiento de nuestra marca entre quienes nos acompañan día a día."}),s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsxs("a",{href:"https://www.facebook.com/Terrapesca",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-white transition-colors",children:[s.jsx(Nf,{size:24}),s.jsx("span",{className:"sr-only",children:"Facebook"})]}),s.jsxs("a",{href:"https://www.instagram.com/terrapesca/",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-white transition-colors",children:[s.jsx(Cf,{size:24}),s.jsx("span",{className:"sr-only",children:"Instagram"})]}),s.jsxs("a",{href:"https://www.youtube.com/@terrapesca",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-white transition-colors",children:[s.jsx(If,{size:24}),s.jsx("span",{className:"sr-only",children:"YouTube"})]}),s.jsxs("a",{href:"https://www.tiktok.com/@terrapesca?is_from_webapp=1&sender_device=pc",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-white transition-colors",children:[s.jsx("svg",{width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),s.jsx("span",{className:"sr-only",children:"TikTok"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Enlaces rápidos"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx("li",{children:s.jsxs(Y,{to:"/",className:"text-accent hover:text-white transition-colors flex items-center",children:[s.jsx(Sf,{size:18,className:"mr-2"}),"Inicio"]})}),s.jsx("li",{children:s.jsxs(Y,{to:"/boletos",className:"text-accent hover:text-white transition-colors flex items-center",children:[s.jsx(gr,{size:18,className:"mr-2"}),"Boletos"]})}),s.jsx("li",{children:s.jsxs(Y,{to:"/verificar",className:"text-accent hover:text-white transition-colors flex items-center",children:[s.jsx(wf,{size:18,className:"mr-2"}),"Verificar Boleto"]})}),s.jsx("li",{children:s.jsxs(Y,{to:"/contacto",className:"text-accent hover:text-white transition-colors flex items-center",children:[s.jsx(Oa,{size:18,className:"mr-2"}),"Contacto"]})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacto"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(Tf,{className:"flex-shrink-0 mt-1 mr-3 text-secondary",size:20}),s.jsx("span",{className:"text-accent",children:"Calle Niños Héroes 775, Colonia Bienestar, C.P. 81280, Los Mochis, Sinaloa, México"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx($f,{className:"flex-shrink-0 mr-3 text-secondary",size:20}),s.jsx("span",{className:"text-accent",children:"+52 668 688 9571"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(Pf,{className:"flex-shrink-0 mr-3 text-secondary",size:20}),s.jsx("span",{className:"text-accent",children:"ventasweb@terrapesca.com"})]})]})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-primary-light text-center text-sm text-accent",children:s.jsxs("p",{children:["© ",new Date().getFullYear()," Sorteos Terrapesca. Todos los derechos reservados."]})})]})}),sv="modulepreload",av=function(e){return"/"+e},ku={},ys=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=av(c),c in ku)return;ku[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":sv,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},iv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ys(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ov extends Yl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lv extends Yl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cv extends Yl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wo||(Wo={}));var uv=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dv{constructor(t,{headers:r={},customFetch:n,region:a=Wo.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=iv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return uv(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(x=>{throw new ov(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new lv(d);if(!d.ok)throw new cv(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield d.json():p==="application/octet-stream"?y=yield d.blob():p==="text/event-stream"?y=d:p==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(a){return{data:null,error:a}}})}}var Pe={},Zl={},ri={},ws={},ni={},si={},hv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ln=hv();const fv=ln.fetch,Mf=ln.fetch.bind(ln),zf=ln.Headers,mv=ln.Request,pv=ln.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:zf,Request:mv,Response:pv,default:Mf,fetch:fv},Symbol.toStringTag,{value:"Module"})),gv=um(mn);var ai={};Object.defineProperty(ai,"__esModule",{value:!0});let xv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ai.default=xv;var Df=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(si,"__esModule",{value:!0});const vv=Df(gv),yv=Df(ai);let wv=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=f:d=JSON.parse(f))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,p=200,y="OK")}catch{i.status===404&&w===""?(p=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&this.shouldThrowOnError)throw new yv.default(u)}return{error:u,data:d,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};si.default=wv;var bv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ni,"__esModule",{value:!0});const jv=bv(si);let Nv=class extends jv.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ni.default=Nv;var kv=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});const _v=kv(ni);let Sv=class extends _v.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ws.default=Sv;var Ev=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ri,"__esModule",{value:!0});const kn=Ev(ws);let Cv=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new kn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new kn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new kn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new kn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ri.default=Cv;var ii={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.version=void 0;oi.version="0.0.0-automated";Object.defineProperty(ii,"__esModule",{value:!0});ii.DEFAULT_HEADERS=void 0;const Pv=oi;ii.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pv.version}`};var Uf=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zl,"__esModule",{value:!0});const Tv=Uf(ri),$v=Uf(ws),Rv=ii;let Ov=class Ff{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Rv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Tv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ff(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new $v.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Zl.default=Ov;var pn=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const Bf=pn(Zl);Pe.PostgrestClient=Bf.default;const Vf=pn(ri);Pe.PostgrestQueryBuilder=Vf.default;const qf=pn(ws);Pe.PostgrestFilterBuilder=qf.default;const Hf=pn(ni);Pe.PostgrestTransformBuilder=Hf.default;const Wf=pn(si);Pe.PostgrestBuilder=Wf.default;const Gf=pn(ai);Pe.PostgrestError=Gf.default;var Lv=Pe.default={PostgrestClient:Bf.default,PostgrestQueryBuilder:Vf.default,PostgrestFilterBuilder:qf.default,PostgrestTransformBuilder:Hf.default,PostgrestBuilder:Wf.default,PostgrestError:Gf.default};const{PostgrestClient:Av,PostgrestQueryBuilder:Zw,PostgrestFilterBuilder:e1,PostgrestTransformBuilder:t1,PostgrestBuilder:r1,PostgrestError:n1}=Lv;function Iv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Mv=Iv(),zv="2.11.15",Dv=`realtime-js/${zv}`,Uv="1.0.0",Kf=1e4,Fv=1e3;var Un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Un||(Un={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var Ye;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ye||(Ye={}));var Go;(function(e){e.websocket="websocket"})(Go||(Go={}));var cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cr||(cr={}));class Bv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Qf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const _u=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Vv(o,e,t,a),i),{})},Vv=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?Jf(i,o):Ko(o)},Jf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Gv(t,r)}switch(e){case W.bool:return qv(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Hv(t);case W.json:case W.jsonb:return Wv(t);case W.timestamp:return Kv(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Ko(t);default:return Ko(t)}},Ko=e=>e,qv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Jf(t,l))}return e},Kv=e=>typeof e=="string"?e.replace(" ","T"):e,Xf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class zi{constructor(t,r,n={},a=Kf){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Su;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Su||(Su={}));class Fn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fn.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Fn.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Fn.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const p=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),x=d.filter(j=>y.indexOf(j.presence_ref)<0),w=h.filter(j=>p.indexOf(j.presence_ref)<0);x.length>0&&(l[u]=x),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(y=>y.presence_ref),p=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Eu||(Eu={}));var Cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cu||(Cu={}));var mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class ec{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zi(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new Qf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Fn(this),this.broadcastEndpointURL=Xf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(mt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(mt.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(mt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,x=[];for(let w=0;w<y;w++){const j=p[w],{filter:{event:f,schema:m,table:g,filter:v}}=j,N=d&&d[w];if(N&&N.event===f&&N.schema===m&&N.table===g&&N.filter===v)x.push(Object.assign(Object.assign({},j),{id:N.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(mt.SUBSCRIBED);return}}).receive("error",d=>{this.state=ye.errored,t==null||t(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new zi(this,Ye.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new zi(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ye;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var x,w,j;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((j=(w=y.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(y=>y.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,w,j,f,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,N=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((w=r.ids)===null||w===void 0?void 0:w.includes(v))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(m=(f=y==null?void 0:y.filter)===null||f===void 0?void 0:f.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return v==="*"||v===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:w,table:j,commit_timestamp:f,type:m,errors:g}=x;p=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:f,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(x))}y.callback(p,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ec.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ye.close,{},t)}_onError(t){this._on(Ye.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_u(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_u(t.columns,t.old_record)),r}}const Pu=()=>{},Qv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pu,this.ref=0,this.logger=Pu,this.conn=null,this.sendBuffer=[],this.serializer=new Bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ys(async()=>{const{default:c}=await Promise.resolve().then(()=>mn);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Go.websocket}`,this.httpEndpoint=Xf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Mv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Uv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Un.connecting:return cr.Connecting;case Un.open:return cr.Open;case Un.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new ec(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Dv};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Fv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ye.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Qv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class tc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function de(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Xv extends tc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qo extends tc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Yv=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Yf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ys(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Zv=()=>Yv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ys(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Jo=e=>{if(Array.isArray(e))return e.map(r=>Jo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Jo(n)}),t};var Er=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Di=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ey=(e,t,r)=>Er(void 0,void 0,void 0,function*(){const n=yield Zv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Xv(Di(a),e.status||500))}).catch(a=>{t(new Qo(Di(a),a))}):t(new Qo(Di(e),e))}),ty=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function bs(e,t,r,n,a,i){return Er(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,ty(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ey(c,l,n))})})}function La(e,t,r,n){return Er(this,void 0,void 0,function*(){return bs(e,"GET",t,r,n)})}function $t(e,t,r,n,a){return Er(this,void 0,void 0,function*(){return bs(e,"POST",t,n,a,r)})}function ry(e,t,r,n,a){return Er(this,void 0,void 0,function*(){return bs(e,"PUT",t,n,a,r)})}function ny(e,t,r,n){return Er(this,void 0,void 0,function*(){return bs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Zf(e,t,r,n,a){return Er(this,void 0,void 0,function*(){return bs(e,"DELETE",t,n,a,r)})}var Ee=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const sy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ay{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Yf(a)}uploadOrUpdate(t,r,n,a){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tu),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Tu.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(de(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield $t(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new tc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ee(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield $t(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ee(this,void 0,void 0,function*(){try{const a=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}download(t,r){return Ee(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield La(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(de(l))return{data:null,error:l};throw l}})}info(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield La(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Jo(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ny(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof Qo){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ee(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},sy),r),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const iy="2.7.1",oy={"X-Client-Info":`storage-js/${iy}`};var Pr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ly{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oy),r),this.fetch=Yf(n)}listBuckets(){return Pr(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}})}getBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Pr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield ry(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class cy extends ly{constructor(t,r={},n){super(t,r,n)}from(t){return new ay(this.url,this.headers,t,this.fetch)}}const uy="2.50.2";let Pn="";typeof Deno<"u"?Pn="deno":typeof document<"u"?Pn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pn="react-native":Pn="node";const dy={"X-Client-Info":`supabase-js-${Pn}/${uy}`},hy={headers:dy},fy={schema:"public"},my={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},py={};var gy=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Mf:t=fetch,(...r)=>t(...r)},vy=()=>typeof Headers>"u"?zf:Headers,yy=(e,t,r)=>{const n=xy(r),a=vy();return(i,o)=>gy(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var wy=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function by(e){return e.endsWith("/")?e:e+"/"}function jy(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wy(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const em="2.70.0",Or=30*1e3,Xo=3,Ui=Xo*Or,Ny="http://localhost:9999",ky="supabase.auth.token",_y={"X-Client-Info":`gotrue-js/${em}`},Yo="X-Supabase-Api-Version",tm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ey=6e5;class rc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Cy extends rc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Py(e){return z(e)&&e.name==="AuthApiError"}class rm extends rc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class rr extends rc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ct extends rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ty(e){return z(e)&&e.name==="AuthSessionMissingError"}class Bs extends rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends rr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qs extends rr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $y(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class $u extends rr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zo extends rr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fi(e){return z(e)&&e.name==="AuthRetryableFetchError"}class Ru extends rr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bn extends rr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ou=` 	
\r=`.split(""),Ry=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ou.length;t+=1)e[Ou[t].charCodeAt(0)]=-2;for(let t=0;t<Aa.length;t+=1)e[Aa[t].charCodeAt(0)]=t;return e})();function Lu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Aa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Aa[n]),t.queuedBits-=6}}function nm(e,t,r){const n=Ry[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Au(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Ay(o,n,r)};for(let o=0;o<e.length;o+=1)nm(e.charCodeAt(o),a,i);return t.join("")}function Oy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ly(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Oy(n,t)}}function Ay(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Iy(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)nm(e.charCodeAt(a),r,n);return new Uint8Array(t)}function My(e){const t=[];return Ly(e,r=>t.push(r)),new Uint8Array(t)}function zy(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Lu(a,r,n)),Lu(null,r,n),t.join("")}function Dy(e){return Math.round(Date.now()/1e3)+e}function Uy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",ar={tested:!1,writable:!1},Vn=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ar.tested)return ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ar.tested=!0,ar.writable=!0}catch{ar.tested=!0,ar.writable=!1}return ar.writable};function Fy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const sm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ys(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},By=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",am=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Hs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ws=async(e,t)=>{await e.removeItem(t)};class li{constructor(){this.promise=new li.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}li.promiseConstructor=Promise;function Bi(e){const t=e.split(".");if(t.length!==3)throw new Bn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Sy.test(t[n]))throw new Bn("JWT not in base64url format");return{header:JSON.parse(Au(t[0])),payload:JSON.parse(Au(t[1])),signature:Iy(t[2]),raw:{header:t[0],payload:t[1]}}}async function Vy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qy(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Hy(e){return("0"+e.toString(16)).substr(-2)}function Wy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Hy).join("")}async function Gy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Ky(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Gy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(e,t,r=!1){const n=Wy();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await am(e,`${t}-code-verifier`,a);const i=await Ky(n);return[i,n===i?"plain":"s256"]}const Qy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jy(e){const t=e.headers.get(Yo);if(!t||!t.match(Qy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Xy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $r(e){if(!Zy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ew=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tw=[502,503,504];async function Iu(e){var t;if(!By(e))throw new Zo(lr(e),0);if(tw.includes(e.status))throw new Zo(lr(e),e.status);let r;try{r=await e.json()}catch(i){throw new rm(lr(i),i)}let n;const a=Jy(e);if(a&&a.getTime()>=tm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ru(lr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ru(lr(r),e.status,r.weak_password.reasons);throw new Cy(lr(r),e.status||500,n)}const rw=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function F(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Yo]||(i[Yo]=tm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await nw(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nw(e,t,r,n,a,i){const o=rw(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Zo(lr(c),0)}if(l.ok||await Iu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Iu(c)}}function ht(e){var t;let r=null;ow(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Dy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mu(e){const t=ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function At(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sw(e){return{data:e,error:null}}function aw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ew(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function iw(e){return e}function ow(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vi=["global","local","others"];var lw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class cw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Vi[0]){if(Vi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vi.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lw(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:aw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:iw});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(x=>{const w=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(x.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$r(t);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:At})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$r(t);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$r(t);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$r(t.userId);try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$r(t.userId),$r(t.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}const uw={getItem:e=>Vn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Vn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Vn()&&globalThis.localStorage.removeItem(e)}};function zu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function dw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&Vn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class im extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hw extends im{}async function fw(e,t,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dw();const mw={url:Ny,storageKey:ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Du(e,t,r){return await r()}class us{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},mw),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new cw({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sm(a.fetch),this.lock=a.lock||Du,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fw:this.lock=Du,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Vn()?this.storage=uw:(this.memoryStorage={},this.storage=zu(this.memoryStorage)):(this.memoryStorage={},this.storage=zu(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${em}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Fy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$y(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new rm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ht}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await Tr(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:x},xform:ht})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ht})}else throw new Vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mu})}else throw new Vs("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Bs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,h,p,y;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:j,wallet:f,statement:m,options:g}=t;let v;if(Qe())if(typeof f=="object")v=f;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))v=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=f}const N=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const _=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),m?{statement:m}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),w=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=_}}try{const{data:j,error:f}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:zy(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ht});if(f)throw f;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Bs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:f})}catch(j){if(z(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Hs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ht});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Bs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ht}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Bs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Tr(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vs("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ht});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:sw})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ct;const{error:a}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vs("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ui:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:At}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(r){if(z(r))return Ty(r)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ct;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Tr(this.storage,this.storageKey));const{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Bi(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new qs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $u("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new qs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const y=p-d;y*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=p-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const f={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Hs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Py(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Uy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Tr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qy(async a=>(a>0&&await Vy(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ht})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Fi(i)&&Date.now()+o-n<Or})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Hs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ui;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Ui}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Fi(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new li;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),z(i)){const o={session:null,error:i};return Fi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await am(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Or}ms, refresh threshold is ${Xo} ticks`),a<=Xo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof im)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bi(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Ey>Date.now()))return n;const{data:a,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Bn("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new Bn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Bi(n);if(Xy(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:a,signature:o},error:null}}const u=Yy(a.alg),d=await this.fetchJwk(a.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,My(`${l}.${c}`)))throw new Bn("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}us.nextInstanceID=0;const pw=us;class gw extends pw{constructor(t){super(t)}}var xw=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vw{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=by(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:fy,realtime:py,auth:Object.assign(Object.assign({},my),{storageKey:u}),global:hy},h=jy(n??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=yy(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Av(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new dv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cy(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return xw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gw({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Jv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yw=(e,t,r)=>new vw(e,t,r),ww="https://xiimtrthyumrwbjwqgtz.supabase.co",bw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpaW10cnRoeXVtcndiandxZ3R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NzEyNDUsImV4cCI6MjA2MzQ0NzI0NX0.3nxtiRYswzAMNFNCMLUNgPKUHiRyfv2N-8OAE10o3kw",D=yw(ww,bw,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"supabase-js-web"}}}),jw=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const{data:i,error:o}=await D.from("public_raffles").select("*").eq("status","active").order("draw_date",{ascending:!0});if(o)throw o;t(i||[])}catch(i){console.error("Error fetching raffles:",i)}finally{n(!1)}})()},[]),s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsxs("section",{className:"relative w-full h-screen overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsxs("picture",{children:[s.jsx("source",{media:"(max-width: 768px)",srcSet:"/Mobile-03.jpg"}),s.jsx("source",{media:"(max-width: 1024px)",srcSet:"/tablet-02.jpg"}),s.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0205/5752/9188/files/Desktop.jpg?v=1750806041",alt:"Sorteos Terrapesca",className:"w-full h-full object-cover",style:{filter:"brightness(1.1) contrast(1.05) saturate(1.1)",objectPosition:"center 35%"}})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-black/10"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-end justify-center pb-20 sm:pb-24 md:pb-28 lg:pb-32",children:s.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4 sm:space-y-6 md:flex-row md:space-y-0 md:space-x-6 lg:space-x-8 md:justify-center",children:[s.jsxs(Y,{to:"/sorteos",className:"group relative w-full max-w-sm sm:w-auto inline-flex items-center justify-center px-8 sm:px-10 md:px-12 py-4 sm:py-5 md:py-6 text-base sm:text-lg md:text-xl font-bold text-white bg-gradient-to-r from-green-600 via-green-700 to-green-800 rounded-xl sm:rounded-2xl shadow-2xl hover:shadow-green-500/25 transform hover:scale-105 transition-all duration-300 border-2 border-green-400/50 hover:border-green-300 backdrop-blur-md",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-white/10 rounded-xl sm:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("span",{className:"relative flex items-center",children:[s.jsx(qo,{className:"mr-2 sm:mr-3 md:mr-4 h-5 w-5 sm:h-6 sm:w-6 md:h-7 md:w-7 group-hover:rotate-12 transition-transform duration-300 text-yellow-300"}),s.jsx("span",{className:"text-base sm:text-lg md:text-xl font-extrabold tracking-wide",children:"Ver todos los sorteos"}),s.jsx(jr,{className:"ml-2 sm:ml-3 md:ml-4 h-5 w-5 sm:h-6 sm:w-6 md:h-7 md:w-7 group-hover:translate-x-2 transition-transform duration-300"})]}),s.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform -skew-x-12 group-hover:animate-pulse transition-all duration-700"})]}),s.jsxs(Y,{to:"/verificar",className:"group relative w-full max-w-sm sm:w-auto inline-flex items-center justify-center px-8 sm:px-10 md:px-12 py-4 sm:py-5 md:py-6 text-base sm:text-lg md:text-xl font-bold text-white bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 rounded-xl sm:rounded-2xl shadow-2xl hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-300 border-2 border-blue-400/50 hover:border-blue-300 backdrop-blur-md",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-white/10 rounded-xl sm:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("span",{className:"relative flex items-center",children:[s.jsx(Yr,{className:"mr-2 sm:mr-3 md:mr-4 h-5 w-5 sm:h-6 sm:w-6 md:h-7 md:w-7 group-hover:scale-110 transition-transform duration-300 text-blue-200"}),s.jsx("span",{className:"text-base sm:text-lg md:text-xl font-extrabold tracking-wide",children:"Verificar mi boleto"})]}),s.jsx("div",{className:"absolute inset-0 rounded-xl sm:rounded-2xl bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform -skew-x-12 group-hover:animate-pulse transition-all duration-700"})]})]}),s.jsxs("div",{className:"hidden lg:block mt-16 xl:mt-20 animate-bounce",children:[s.jsx("div",{className:"w-8 h-12 border-2 border-white/60 rounded-full mx-auto flex justify-center backdrop-blur-sm bg-white/10",children:s.jsx("div",{className:"w-1.5 h-4 bg-white/80 rounded-full mt-2 animate-pulse"})}),s.jsx("p",{className:"text-white/70 text-sm mt-2 font-medium",children:"Desliza para ver más"})]})]})})})]}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Sorteos Activos"}),s.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"Participa en nuestros sorteos activos y no pierdas la oportunidad de ganar increíbles premios."})]}),r?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):e.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(a=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:a.image_url,alt:a.name,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-0 right-0 m-2",children:s.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 text-sm rounded-full font-semibold shadow-lg",children:["$",a.price," MXN"]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.name}),s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(kt,{className:"h-4 w-4 mr-2"}),"Sorteo: ",new Date(a.draw_date).toLocaleDateString()]})}),s.jsx(Y,{to:`/sorteo/${a.slug}`,className:"block w-full text-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:"Participar ahora"})]})]},a.id))}):s.jsx("div",{className:"text-center text-gray-500",children:"No hay sorteos activos en este momento."}),e.length>0&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs(Y,{to:"/sorteos",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:["Ver todos los sorteos",s.jsx(jr,{className:"ml-2",size:18})]})})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"¿Cómo funciona?"}),s.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"Participar en nuestro sorteo es muy sencillo. Sigue estos pasos y estarás más cerca de ganar."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xl font-bold mb-4",children:"1"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Elige tus boletos"}),s.jsx("p",{className:"text-gray-600",children:"Navega por nuestro catálogo de sorteos activos y selecciona los números que más te gusten."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xl font-bold mb-4",children:"2"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reserva en línea"}),s.jsx("p",{className:"text-gray-600",children:"Completa el formulario con tus datos personales para reservar los boletos seleccionados."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xl font-bold mb-4",children:"3"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Realiza tu pago"}),s.jsx("p",{className:"text-gray-600",children:"Paga directamente tus boletos con pago seguro de Mercado Pago o bien puedes realizar el proceso vía WhatsApp."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 text-green-700 rounded-full flex items-center justify-center text-xl font-bold mb-4",children:"4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"¡Espera el sorteo!"}),s.jsx("p",{className:"text-gray-600",children:"Una vez confirmado tu pago, solo queda esperar al día del sorteo. ¡Buena suerte!"})]})]})]})}),s.jsx(_t,{})]})},Nw=({ticket:e,selected:t,onSelect:r,disabled:n=!1})=>{const a=()=>{e.status==="available"&&!n&&r(e)},i=()=>{if(t)return"bg-blue-500 border-blue-700 text-white shadow-md transform scale-105";switch(e.status){case"available":return"bg-white border-green-500 text-green-700 hover:bg-green-50";case"reserved":return"bg-gray-300 border-gray-400 text-gray-700 cursor-not-allowed";case"purchased":return"bg-green-500 border-green-700 text-white cursor-not-allowed";default:return"bg-white border-gray-300"}};return s.jsx("div",{className:`
        border-2 rounded-lg p-2 text-center font-bold transition-all duration-200 ease-in-out
        ${i()}
        ${e.status==="available"&&!n?"cursor-pointer":"cursor-not-allowed"}
      `,onClick:a,children:s.jsx("span",{className:"text-lg",children:e.number})})};function kw(e){return e>=30?"BONO ENVÍO GRATIS":e>=20?"BONO EXTRA":e>=10?"BONO ADICIONAL":e>=5?"BONO VIP":null}const _w=({raffleId:e,selectedTickets:t,onSelectTicket:r,maxSelection:n=50})=>{const[a,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),[d,h]=b.useState(""),p=kw(t.length);b.useEffect(()=>{(async()=>{try{l(!0);const{data:g,error:v}=await D.from("tickets").select("*").eq("raffle_id",e).order("number",{ascending:!0});if(v)throw v;i(g)}catch(g){console.error("Error fetching tickets:",g),u("No pudimos cargar los boletos. Intenta de nuevo más tarde.")}finally{l(!1)}})();const m=D.channel("tickets-changes").on("postgres_changes",{event:"*",schema:"public",table:"tickets",filter:`raffle_id=eq.${e}`},g=>{g.eventType==="UPDATE"&&i(v=>v.map(N=>N.id===g.new.id?{...N,...g.new}:N))}).subscribe();return()=>{m.unsubscribe()}},[e]);const y=f=>t.some(m=>m.id===f.id),x=f=>t.length>=n&&!y(f),w=d?a.filter(f=>f.number.toString().includes(d)):a,j={total:a.length,available:a.filter(f=>f.status==="available").length,reserved:a.filter(f=>f.status==="reserved").length,purchased:a.filter(f=>f.status==="purchased").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:d,onChange:f=>h(f.target.value),placeholder:"Buscar boleto por número...",className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[s.jsxs("div",{className:"px-3 py-1 bg-white border border-green-500 text-green-700 rounded-md",children:["Disponibles: ",j.available]}),s.jsxs("div",{className:"px-3 py-1 bg-gray-300 border border-gray-400 text-gray-700 rounded-md",children:["Reservados: ",j.reserved]}),s.jsxs("div",{className:"px-3 py-1 bg-green-500 border border-green-700 text-white rounded-md",children:["Pagados: ",j.purchased]})]})]}),t.length>0&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-blue-800",children:["Boletos seleccionados: ",t.length]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.map(f=>s.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:f.number},f.id))}),p&&s.jsxs("div",{className:"mt-2 text-green-700 font-semibold",children:["¡Felicidades! Has obtenido: ",p]})]}),o?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):c?s.jsx("div",{className:"text-red-500 text-center py-10",children:c}):s.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 gap-2 md:gap-3",children:w.map(f=>s.jsx(Nw,{ticket:f,selected:y(f),onSelect:r,disabled:x(f)},f.id))}),w.length===0&&!o&&s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No se encontraron boletos con ese número."})]})},Sw=({selectedTickets:e,raffleInfo:t,userInfo:r,onSuccess:n,onCancel:a,promoterCode:i})=>{const[o,l]=b.useState(!1),[c,u]=b.useState("credit_card"),[d,h]=b.useState("selecting"),[p,y]=b.useState(null),[x,w]=b.useState(0),[j,f]=b.useState(null),m=e.length*t.price,g=[{id:"credit_card",name:"Tarjeta de Crédito",icon:s.jsx(Vo,{className:"h-6 w-6"}),description:"Visa, Mastercard, American Express - Hasta 12 cuotas",available:!0},{id:"debit_card",name:"Tarjeta de Débito",icon:s.jsx(Vo,{className:"h-6 w-6"}),description:"Pago inmediato desde tu cuenta bancaria",available:!0},{id:"bank_transfer",name:"Transferencia Bancaria",icon:s.jsx(Mx,{className:"h-6 w-6"}),description:"SPEI - Transferencia inmediata entre bancos",available:!0},{id:"digital_wallet",name:"Billetera Digital",icon:s.jsx(Xx,{className:"h-6 w-6"}),description:"Mercado Pago, OXXO, otros métodos digitales",available:!0}],v=()=>{const C=[];return r.firstName.trim()||C.push("Nombre es requerido"),r.lastName.trim()||C.push("Apellidos son requeridos"),(!r.email.trim()||!r.email.includes("@"))&&C.push("Email válido es requerido"),r.phone.replace(/\D/g,"").length<10&&C.push("Teléfono debe tener al menos 10 dígitos"),C},N=async()=>{try{l(!0),h("processing"),y(null),f(null);const C=v();if(C.length>0)throw new Error(`Datos inválidos: ${C.join(", ")}`);const I=r.phone.replace(/\D/g,""),ae={items:[{title:`${t.name} - ${e.length} boleto(s)`,description:`Boletos: ${e.map(q=>q.number).join(", ")}`,quantity:1,unit_price:m,currency_id:"MXN"}],payer:{name:r.firstName.trim(),surname:r.lastName.trim(),email:r.email.trim().toLowerCase(),phone:{area_code:"52",number:I}},external_reference:`raffle_${t.id}_${Date.now()}_tickets_${e.map(q=>q.id).join("_")}`,metadata:{raffle_id:t.id,ticket_ids:e.map(q=>q.id),promoter_code:i||null,user_phone:r.phone,user_email:r.email,ticket_numbers:e.map(q=>q.number)}};console.log("🚀 Creating payment preference...",ae);const P=new AbortController,A=setTimeout(()=>P.abort(),6e4);try{const q=await fetch("https://xiimtrthyumrwbjwqgtz.supabase.co/functions/v1/create-payment-preference",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhpaW10cnRoeXVtcndiandxZ3R6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NzEyNDUsImV4cCI6MjA2MzQ0NzI0NX0.3nxtiRYswzAMNFNCMLUNgPKUHiRyfv2N-8OAE10o3kw","User-Agent":"SorteosTermapesca/1.0 (Web)","X-Client-Info":"sorteos-terrapesca-web"},body:JSON.stringify(ae),signal:P.signal});clearTimeout(A);const re=await q.json();if(console.log("📥 API Response:",re),!q.ok)throw console.error("❌ API Error Response:",re),f(re.diagnostic),q.status===401?new Error("Error de autenticación con Mercado Pago. Verifica las credenciales."):q.status===400?new Error(re.error||"Datos de pago inválidos. Verifica la información."):q.status>=500?new Error("Error del servidor de Mercado Pago. Intenta de nuevo en unos minutos."):new Error(re.error||`Error HTTP ${q.status}: ${re.details||"Error desconocido"}`);const st=re;if(console.log("✅ Preference created:",st),st.init_point)L.success("Redirigiendo a Mercado Pago..."),setTimeout(()=>{window.location.href=st.init_point},1e3);else throw new Error("No se recibió el enlace de pago de Mercado Pago")}catch(q){throw clearTimeout(A),q.name==="AbortError"?new Error("Tiempo de espera agotado. Verifica tu conexión a internet."):q}}catch(C){console.error("💥 Error creating payment preference:",C),h("error");let I=C.message;C.message.includes("Failed to fetch")||C.message.includes("NetworkError")?I="Error de conexión. Verifica tu internet e intenta de nuevo.":C.message.includes("timeout")||C.message.includes("Tiempo de espera")?I="La conexión tardó demasiado. Intenta de nuevo.":(C.message.includes("credentials")||C.message.includes("autenticación"))&&(I="Error de configuración de pagos. Contacta al soporte."),y(I),L.error(I)}finally{l(!1)}},_=C=>{u(C)},k=()=>{w(C=>C+1),N()},S=()=>{h("selecting"),y(null),f(null)},T=()=>{let I=`¡Hola! Tuve problemas con el pago en línea. Me gustaría confirmar la reserva de mis boletos: ${e.map(P=>P.number).join(", ")}`;I+=`

Para el sorteo: ${t.name}`,I+=`
Total a pagar: $${m.toLocaleString()} MXN`,i&&(I+=`
Código de promotor: ${i}`),I+=`

¿Pueden ayudarme a completar el pago?`;const ae=`https://wa.me/526686889571?text=${encodeURIComponent(I)}`;window.open(ae,"_blank"),a()};return d==="processing"?s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Procesando pago..."}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Te estamos redirigiendo a Mercado Pago para completar tu pago de forma segura."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-center text-blue-700",children:[s.jsx(ei,{className:"h-5 w-5 mr-2"}),s.jsx("span",{className:"text-sm",children:"Esto puede tomar unos segundos..."})]})}),x>0&&s.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Intento ",x," de 3"]})]}):d==="error"?s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto text-center",children:[s.jsx(yf,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-red-800 mb-2",children:"Error en el pago"}),s.jsx("p",{className:"text-gray-600 mb-4",children:p||"Hubo un problema al procesar tu pago. Por favor, intenta de nuevo."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Posibles soluciones:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Verifica tu conexión a internet"}),s.jsx("li",{children:"• Intenta de nuevo en unos minutos"}),s.jsx("li",{children:"• Usa otro navegador o dispositivo"}),s.jsx("li",{children:"• Contacta soporte si el problema persiste"})]}),j&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-1",children:"Información técnica:"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Error: ",j.error,s.jsx("br",{}),"Hora: ",new Date(j.timestamp).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:a,className:"flex-1 bg-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),x<3&&s.jsxs("button",{onClick:S,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(Jl,{className:"mr-2 h-4 w-4"}),"Reintentar"]})]}),s.jsxs("button",{onClick:T,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[s.jsx(cs,{className:"mr-2 h-4 w-4"}),"Continuar por WhatsApp"]}),x>=3&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"Múltiples intentos fallidos. Te recomendamos usar WhatsApp para coordinar tu pago."})})]})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("button",{onClick:a,className:"mr-4 p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100",children:s.jsx(Ra,{className:"h-5 w-5"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Pagar con Mercado Pago"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Resumen de tu compra"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Sorteo:"}),s.jsx("span",{className:"font-medium",children:t.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Boletos:"}),s.jsx("span",{className:"font-medium",children:e.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Números:"}),s.jsx("span",{className:"font-medium text-sm",children:e.map(C=>C.number).join(", ")})]}),i&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Código promotor:"}),s.jsx("span",{className:"font-medium text-green-600",children:i})]}),s.jsx("div",{className:"border-t pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total a pagar:"}),s.jsxs("span",{className:"text-green-600",children:["$",m.toLocaleString()," MXN"]})]})})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Selecciona tu método de pago"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.map(C=>s.jsx("button",{onClick:()=>_(C.id),disabled:!C.available,className:`p-4 border-2 rounded-lg text-left transition-all ${c===C.id?"border-blue-500 bg-blue-50":C.available?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":"border-gray-100 bg-gray-50 cursor-not-allowed opacity-50"}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:`mr-3 ${c===C.id?"text-blue-600":"text-gray-400"}`,children:C.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:C.name}),s.jsx("p",{className:"text-sm text-gray-500",children:C.description})]})]})},C.id))})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Of,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Pago 100% seguro"}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Tu información está protegida con encriptación SSL. Mercado Pago es una plataforma certificada y confiable para procesar pagos en línea en México."})]})]})}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:a,className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:k,disabled:o||!c,className:`flex-1 py-3 px-4 rounded-lg text-white font-medium transition-colors ${o||!c?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:o?"Procesando...":"Pagar con Mercado Pago"})]}),s.jsx("button",{onClick:T,className:"w-full py-2 px-4 text-green-600 hover:text-green-800 transition-colors text-sm",children:"¿Problemas con el pago? Usar WhatsApp en su lugar"})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500 text-center",children:["Al continuar, aceptas los"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"términos y condiciones"})," ","del sorteo y las"," ",s.jsx("a",{href:"https://www.mercadopago.com.mx/ayuda/terminos-y-condiciones_299",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"políticas de privacidad"})," ","de Mercado Pago."]})]})},Ew=({tickets:e,user:t,raffleInfo:r,paymentMethod:n,onGenerate:a})=>{const i=async()=>{try{const o=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 20px;
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              min-height: 100vh;
            }
            .container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
              border-radius: 15px;
              overflow: hidden;
              box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            }
            .header {
              background: linear-gradient(135deg, #003B73 0%, #0074B3 100%);
              color: white;
              padding: 30px;
              text-align: center;
              position: relative;
            }
            .header::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
              opacity: 0.3;
            }
            .logo {
              font-size: 28px;
              font-weight: bold;
              margin-bottom: 10px;
              position: relative;
              z-index: 1;
            }
            .subtitle {
              font-size: 16px;
              opacity: 0.9;
              position: relative;
              z-index: 1;
            }
            .content {
              padding: 40px;
            }
            .special-prize {
              background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
              color: #8B4513;
              padding: 20px;
              border-radius: 10px;
              margin: 20px 0;
              text-align: center;
              border: 3px solid #FFD700;
              box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
            }
            .special-prize h3 {
              margin: 0 0 10px 0;
              font-size: 24px;
              text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            }
            .special-prize p {
              margin: 0;
              font-size: 16px;
              font-weight: bold;
            }
            .ticket-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
              gap: 15px;
              margin: 30px 0;
            }
            .ticket {
              background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
              color: white;
              padding: 20px;
              border-radius: 10px;
              text-align: center;
              font-weight: bold;
              font-size: 18px;
              box-shadow: 0 4px 8px rgba(0,0,0,0.1);
              border: 2px solid #4CAF50;
            }
            .info-section {
              background: #f8f9fa;
              padding: 25px;
              border-radius: 10px;
              margin: 20px 0;
              border-left: 5px solid #003B73;
            }
            .info-row {
              display: flex;
              justify-content: space-between;
              margin: 10px 0;
              padding: 8px 0;
              border-bottom: 1px solid #e9ecef;
            }
            .info-row:last-child {
              border-bottom: none;
            }
            .label {
              font-weight: bold;
              color: #495057;
            }
            .value {
              color: #212529;
            }
            .footer {
              background: #003B73;
              color: white;
              padding: 25px;
              text-align: center;
              font-size: 14px;
            }
            .qr-placeholder {
              width: 100px;
              height: 100px;
              background: #f0f0f0;
              border: 2px dashed #ccc;
              margin: 20px auto;
              display: flex;
              align-items: center;
              justify-content: center;
              border-radius: 10px;
            }
            .watermark {
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%) rotate(-45deg);
              font-size: 60px;
              color: rgba(0, 59, 115, 0.05);
              font-weight: bold;
              z-index: 0;
              pointer-events: none;
            }
          </style>
        </head>
        <body>
          <div class="watermark">SORTEOS TERRAPESCA</div>
          <div class="container">
            <div class="header">
              <div class="logo">🎣 SORTEOS TERRAPESCA</div>
              <div class="subtitle">Comprobante de Participación Oficial</div>
            </div>
            
            <div class="content">
              ${n==="mercadopago"?`
                <div class="special-prize">
                  <h3>🏆 ¡PARTICIPAS EN EL PREMIO ESPECIAL! 🏆</h3>
                  <p>Por pagar con Mercado Pago, automáticamente participas en nuestro premio especial adicional</p>
                </div>
              `:""}
              
              <div class="info-section">
                <h3 style="margin-top: 0; color: #003B73;">📋 Información del Participante</h3>
                <div class="info-row">
                  <span class="label">Nombre:</span>
                  <span class="value">${t.first_name} ${t.last_name}</span>
                </div>
                <div class="info-row">
                  <span class="label">Teléfono:</span>
                  <span class="value">${t.phone}</span>
                </div>
                <div class="info-row">
                  <span class="label">Estado:</span>
                  <span class="value">${t.state}</span>
                </div>
                <div class="info-row">
                  <span class="label">Método de Pago:</span>
                  <span class="value">${n==="mercadopago"?"Mercado Pago (Pago Seguro)":"WhatsApp (Coordinación Manual)"}</span>
                </div>
              </div>
              
              <div class="info-section">
                <h3 style="margin-top: 0; color: #003B73;">🎰 Información del Sorteo</h3>
                <div class="info-row">
                  <span class="label">Sorteo:</span>
                  <span class="value">${r.name}</span>
                </div>
                <div class="info-row">
                  <span class="label">Fecha del Sorteo:</span>
                  <span class="value">${new Date(r.draw_date).toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Mazatlan"})} (Hora del Pacífico - Sinaloa)</span>
                </div>
                <div class="info-row">
                  <span class="label">Precio por Boleto:</span>
                  <span class="value">$${r.price.toLocaleString()} MXN</span>
                </div>
                <div class="info-row">
                  <span class="label">Total Pagado:</span>
                  <span class="value">$${(e.length*r.price).toLocaleString()} MXN</span>
                </div>
              </div>
              
              <h3 style="color: #003B73;">🎫 Tus Boletos (${e.length})</h3>
              <div class="ticket-grid">
                ${e.map(c=>`
                  <div class="ticket">
                    #${c.number}
                  </div>
                `).join("")}
              </div>
              
              <div class="qr-placeholder">
                <span style="color: #999;">QR Code</span>
              </div>
              
              <div style="text-align: center; margin-top: 30px; padding: 20px; background: #e8f5e8; border-radius: 10px;">
                <p style="margin: 0; color: #2e7d32; font-weight: bold;">
                  ✅ Boletos confirmados y registrados oficialmente
                </p>
                <p style="margin: 5px 0 0 0; color: #2e7d32; font-size: 14px;">
                  Puedes verificar tus boletos en cualquier momento en nuestra página web
                </p>
              </div>
            </div>
            
            <div class="footer">
              <p><strong>Sorteos Terrapesca</strong></p>
              <p>📞 +52 668 688 9571 | 📧 ventasweb@terrapesca.com</p>
              <p>🌐 www.sorteosterrapesca.com</p>
              <p style="margin-top: 15px; font-size: 12px; opacity: 0.8;">
                Generado el ${new Date().toLocaleDateString("es-MX")} a las ${new Date().toLocaleTimeString("es-MX")}
              </p>
            </div>
          </div>
        </body>
        </html>
      `,l=new Blob([o],{type:"text/html"});a(l)}catch(o){console.error("Error generating PDF:",o)}};return s.jsx("button",{onClick:i,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"📄 Generar Comprobante PDF"})},Cw=({selectedTickets:e,raffleInfo:t,userInfo:r,onComplete:n,onCancel:a,promoterCode:i})=>{const[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[p,y]=b.useState("mercadopago"),x=e.length*t.price,w=()=>{let N=`¡Hola! Me gustaría confirmar la reserva de mis boletos: ${e.map(k=>k.number).join(", ")}`;N+=`

Para el sorteo: ${t.name}`,N+=`
Total a pagar: $${x.toLocaleString()} MXN`,i&&(N+=`
Código de promotor: ${i}`),N+=`

¿Cómo puedo realizar el pago?`;const _=`https://wa.me/526686889571?text=${encodeURIComponent(N)}`;window.open(_,"_blank"),y("whatsapp"),h(!0)},j=()=>{u(!0)},f=v=>{console.log("Payment successful:",v),y("mercadopago"),h(!0)},m=()=>{u(!1)},g=v=>{const N=URL.createObjectURL(v),_=document.createElement("a");_.href=N,_.download=`comprobante-sorteo-${e.map(k=>k.number).join("-")}.html`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(N),n()};return d?s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ut,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"¡Pago Confirmado!"}),s.jsx("p",{className:"text-gray-600",children:p==="mercadopago"?"🏆 ¡Felicidades! Por pagar con Mercado Pago, automáticamente participas en nuestro premio especial adicional.":"Tu reserva ha sido registrada. Te contactaremos por WhatsApp para coordinar el pago."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Resumen de tu compra"}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:["Boletos: ",e.map(v=>v.number).join(", ")]}),s.jsxs("p",{children:["Sorteo: ",t.name]}),s.jsxs("p",{children:["Total: $",x.toLocaleString()," MXN"]}),p==="mercadopago"&&s.jsx("p",{className:"text-green-600 font-semibold",children:"✨ Incluye participación en premio especial"})]})]}),s.jsx(Ew,{tickets:e,user:{id:"",first_name:r.firstName,last_name:r.lastName,phone:r.phone,state:r.state},raffleInfo:t,paymentMethod:p,onGenerate:g}),s.jsx("button",{onClick:n,className:"mt-4 text-gray-600 hover:text-gray-800 transition-colors",children:"Continuar sin descargar"})]}):c?s.jsx(Sw,{selectedTickets:e,raffleInfo:t,userInfo:r,onSuccess:f,onCancel:m,promoterCode:i}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Elige tu método de pago"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Resumen de tu compra"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Sorteo:"}),s.jsx("span",{className:"font-medium",children:t.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Boletos:"}),s.jsx("span",{className:"font-medium",children:e.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Números:"}),s.jsx("span",{className:"font-medium text-sm",children:e.map(v=>v.number).join(", ")})]}),i&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Código promotor:"}),s.jsx("span",{className:"font-medium text-green-600",children:i})]}),s.jsx("div",{className:"border-t pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total a pagar:"}),s.jsxs("span",{className:"text-green-600",children:["$",x.toLocaleString()," MXN"]})]})})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:`border-2 rounded-lg p-6 cursor-pointer transition-all ${o==="mercadopago"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>l("mercadopago"),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-lg mr-4",children:s.jsx(Vo,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mercado Pago"}),s.jsx("p",{className:"text-gray-600",children:"Pago inmediato y seguro"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Of,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"Pago protegido"})]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(ut,{className:"h-4 w-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-yellow-600 font-semibold",children:"🏆 Incluye premio especial"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Acepta:"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["• Tarjetas de crédito/débito",s.jsx("br",{}),"• Transferencia bancaria",s.jsx("br",{}),"• Billeteras digitales"]})]})]}),o==="mercadopago"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:s.jsxs("div",{className:"flex items-center text-yellow-800",children:[s.jsx(ut,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm font-semibold",children:"¡Bonus! Al pagar con Mercado Pago participas automáticamente en nuestro premio especial adicional"})]})}),s.jsxs("button",{onClick:j,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:["Pagar con Mercado Pago",s.jsx(jr,{className:"ml-2 h-5 w-5"})]})]})]}),s.jsxs("div",{className:`border-2 rounded-lg p-6 cursor-pointer transition-all ${o==="whatsapp"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>l("whatsapp"),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-lg mr-4",children:s.jsx(cs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"WhatsApp"}),s.jsx("p",{className:"text-gray-600",children:"Coordina tu pago por WhatsApp"}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Te contactaremos para coordinar el pago"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Acepta:"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["• Transferencia bancaria",s.jsx("br",{}),"• Depósito en efectivo",s.jsx("br",{}),"• Otros métodos"]})]})]}),o==="whatsapp"&&s.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:s.jsxs("button",{onClick:w,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:["Continuar por WhatsApp",s.jsx(jr,{className:"ml-2 h-5 w-5"})]})})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:a,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar compra"})}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:s.jsxs("p",{children:["Al continuar, aceptas los términos y condiciones del sorteo.",s.jsx("br",{}),"Tus boletos serán reservados por 3 horas."]})})]})},Pw=({selectedTickets:e,raffleInfo:t,onComplete:r,onCancel:n,promoterCode:a})=>{const[i,o]=b.useState({firstName:"",lastName:"",phone:"",email:"",state:"",agree:!1}),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,p]=b.useState(!1);b.useEffect(()=>{(async()=>{if(a)try{const{data:N,error:_}=await D.from("promoters").select("*").eq("code",a).eq("active",!0).single();if(_){console.error("Error fetching promoter:",_);return}d(N)}catch(N){console.error("Error fetching promoter info:",N)}})()},[a]);const y=v=>{const{name:N,value:_,type:k}=v.target,S=k==="checkbox"?v.target.checked:void 0;o(T=>({...T,[N]:k==="checkbox"?S:_}))},x=async(v,N)=>{try{for(const _ of v){const{data:k,error:S}=await D.rpc("register_ticket_sale",{p_ticket_id:_,p_promoter_code:N});if(S)throw S;const T=k;if(!T.success)throw new Error(T.error||"Failed to register sale")}}catch(_){console.error("Error registering sales with promoter:",_),L.error("Boletos reservados, pero hubo un error al registrar las ventas del promotor")}},w=async v=>{if(v.preventDefault(),e.length===0){L.error("Debes seleccionar al menos un boleto");return}if(!i.agree){L.error("Debes aceptar los términos y condiciones");return}if(!i.email){L.error("El correo electrónico es requerido para procesar el pago");return}try{c(!0);const{data:N,error:_}=await D.from("users").upsert({first_name:i.firstName,last_name:i.lastName,phone:i.phone,state:i.state}).select("id").single();if(_)throw _;const k=e.map(T=>T.id),{error:S}=await D.from("tickets").update({status:"reserved",user_id:N.id,reserved_at:new Date().toISOString(),promoter_code:a||null}).in("id",k);if(S)throw S;a&&u&&await x(k,a),L.success("¡Boletos reservados con éxito!"),p(!0)}catch(N){console.error("Error reserving tickets:",N),L.error("Hubo un error al reservar tus boletos. Intenta de nuevo.")}finally{c(!1)}},j=()=>{r()},f=()=>{p(!1)},m=e.length*t.price,g=a?e.length*1e3:0;return h?s.jsx(Cw,{selectedTickets:e,raffleInfo:t,userInfo:{firstName:i.firstName,lastName:i.lastName,phone:i.phone,email:i.email},onComplete:j,onCancel:f,promoterCode:a}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-6",children:"Completa tu reserva"}),s.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Resumen de compra"}),s.jsxs("p",{children:["Boletos seleccionados: ",s.jsx("strong",{children:e.length})]}),s.jsx("div",{className:"flex flex-wrap gap-1 my-2",children:e.map(v=>s.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-md text-sm",children:v.number},v.id))}),s.jsxs("p",{className:"text-lg font-bold mt-2",children:["Total a pagar: $",m.toLocaleString()," MXN"]}),u&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(ut,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"font-semibold",children:["Promotor: ",u.name]})]}),s.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Código: ",u.code]}),s.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["El promotor recibirá $",g.toLocaleString()," MXN en bonos por esta venta"]})]})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),s.jsx("input",{type:"text",id:"firstName",name:"firstName",value:i.firstName,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellidos"}),s.jsx("input",{type:"text",id:"lastName",name:"lastName",value:i.lastName,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp (10 dígitos)"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:i.phone,onChange:y,pattern:"[0-9]{10}",placeholder:"Ej. 9991234567",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se te contactará por WhatsApp para confirmar el pago."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrónico"}),s.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"ejemplo@correo.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Necesario para procesar el pago con Mercado Pago."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),s.jsxs("select",{id:"state",name:"state",value:i.state,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",children:"Selecciona un estado"}),s.jsx("option",{value:"Aguascalientes",children:"Aguascalientes"}),s.jsx("option",{value:"Baja California",children:"Baja California"}),s.jsx("option",{value:"Baja California Sur",children:"Baja California Sur"}),s.jsx("option",{value:"Campeche",children:"Campeche"}),s.jsx("option",{value:"Chiapas",children:"Chiapas"}),s.jsx("option",{value:"Chihuahua",children:"Chihuahua"}),s.jsx("option",{value:"Ciudad de México",children:"Ciudad de México"}),s.jsx("option",{value:"Coahuila",children:"Coahuila"}),s.jsx("option",{value:"Colima",children:"Colima"}),s.jsx("option",{value:"Durango",children:"Durango"}),s.jsx("option",{value:"Estado de México",children:"Estado de México"}),s.jsx("option",{value:"Guanajuato",children:"Guanajuato"}),s.jsx("option",{value:"Guerrero",children:"Guerrero"}),s.jsx("option",{value:"Hidalgo",children:"Hidalgo"}),s.jsx("option",{value:"Jalisco",children:"Jalisco"}),s.jsx("option",{value:"Michoacán",children:"Michoacán"}),s.jsx("option",{value:"Morelos",children:"Morelos"}),s.jsx("option",{value:"Nayarit",children:"Nayarit"}),s.jsx("option",{value:"Nuevo León",children:"Nuevo León"}),s.jsx("option",{value:"Oaxaca",children:"Oaxaca"}),s.jsx("option",{value:"Puebla",children:"Puebla"}),s.jsx("option",{value:"Querétaro",children:"Querétaro"}),s.jsx("option",{value:"Quintana Roo",children:"Quintana Roo"}),s.jsx("option",{value:"San Luis Potosí",children:"San Luis Potosí"}),s.jsx("option",{value:"Sinaloa",children:"Sinaloa"}),s.jsx("option",{value:"Sonora",children:"Sonora"}),s.jsx("option",{value:"Tabasco",children:"Tabasco"}),s.jsx("option",{value:"Tamaulipas",children:"Tamaulipas"}),s.jsx("option",{value:"Tlaxcala",children:"Tlaxcala"}),s.jsx("option",{value:"Veracruz",children:"Veracruz"}),s.jsx("option",{value:"Yucatán",children:"Yucatán"}),s.jsx("option",{value:"Zacatecas",children:"Zacatecas"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"agree",name:"agree",checked:i.agree,onChange:y,required:!0,className:"mt-1 h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("label",{htmlFor:"agree",className:"ml-2 block text-sm text-gray-700",children:"Acepto los términos y condiciones del sorteo y confirmo que soy mayor de edad."})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:l,className:`px-4 py-2 text-white bg-green-600 rounded-md hover:bg-green-700 focus:outline-none ${l?"opacity-75 cursor-not-allowed":""}`,children:l?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):"Continuar al Pago"})]})]})]})},Tw=({raffleId:e,onTicketsSelected:t})=>{const[r,n]=b.useState(1),[a,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,h]=b.useState(["0000"]),p=b.useRef(),y=f=>{const m=parseInt(f.target.value);!isNaN(m)&&m>0&&m<=100&&(n(m),h(Array(m).fill("0000")))},x=()=>Math.floor(Math.random()*8999+1001).toString(),w=()=>{c&&(h(f=>f.map(()=>x())),p.current=setTimeout(w,50))};b.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const j=async()=>{try{i(!0),l(null),u(!0),w();const{data:f,error:m}=await D.from("tickets").select("*").eq("raffle_id",e).eq("status","available");if(m)throw m;if(!f||f.length===0){l("No hay boletos disponibles para seleccionar.");return}const g=[...f].sort(()=>.5-Math.random()),v=g.slice(0,Math.min(r,g.length));await new Promise(N=>setTimeout(N,2e3)),u(!1),p.current&&clearTimeout(p.current),h(v.map(N=>N.number.toString())),t(v)}catch(f){console.error("Error selecting random tickets:",f),l("Ocurrió un error al seleccionar boletos. Intenta de nuevo.")}finally{i(!1),u(!1)}};return s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 shadow-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-green-500 rounded-full p-2 mr-3",children:s.jsx(bu,{className:"text-white h-6 w-6"})}),s.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Maquinita de la Suerte"})]})}),s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-inner mb-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"¿Cuántos boletos quieres?"}),s.jsx("input",{type:"number",min:"1",max:"100",value:r,onChange:y,className:"w-20 px-3 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-center font-bold text-green-700"})]}),s.jsx("div",{className:`grid grid-cols-2 sm:grid-cols-3 gap-3 ${c?"animate-pulse":""}`,children:d.map((f,m)=>s.jsx("div",{className:`bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 flex items-center justify-center transform transition-all duration-300 ${c?"scale-105 shadow-lg":""}`,children:s.jsx("span",{className:`text-xl font-mono font-bold text-white ${c?"animate-bounce":""}`,children:f})},m))})]})}),o&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:s.jsx("p",{className:"text-red-700",children:o})}),s.jsx("button",{onClick:j,disabled:a||c,className:`w-full flex items-center justify-center py-3 px-6 rounded-lg text-white font-medium transition-all duration-300 ${a||c?"bg-yellow-500 animate-pulse cursor-not-allowed":"bg-green-500 hover:bg-green-600 transform hover:-translate-y-1"} shadow-lg`,children:a||c?s.jsxs(s.Fragment,{children:[s.jsx(Jx,{className:"animate-spin mr-2 h-5 w-5"}),"Girando la ruleta..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"mr-2 h-5 w-5"}),"¡Probar mi suerte!"]})})]})};function $w(e,t=180){const[r,n]=b.useState(t*60),[a,i]=b.useState(e.length>0),o=()=>{const c=Math.floor(r/60),u=r%60;return`${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},l=async()=>{if(e.length!==0)try{const{error:c}=await D.from("tickets").update({status:"available",user_id:null,reserved_at:null}).in("id",e);if(c)throw c;i(!1)}catch(c){console.error("Error releasing tickets:",c)}};return b.useEffect(()=>{e.length>0?(i(!0),n(t*60)):i(!1)},[e,t]),b.useEffect(()=>{let c;return a&&r>0?c=window.setInterval(()=>{n(u=>u-1)},1e3):r===0&&l(),()=>{c&&clearInterval(c)}},[a,r]),{timeRemaining:r,formattedTime:o(),isActive:a,releaseTickets:l}}const Rw=()=>{const[e]=mf(),[t,r]=b.useState([]),[n,a]=b.useState(!1),[i,o]=b.useState([]),[l,c]=b.useState(null),[u,d]=b.useState(!0),[h,p]=b.useState(null),y=e.get("promo")||e.get("promoter"),x=e.get("raffle"),w=t.map(_=>_.id),{formattedTime:j,isActive:f}=$w(w);b.useEffect(()=>{(async()=>{try{d(!0),p(null);const{data:k,error:S}=await D.from("raffles").select("*").eq("status","active").order("created_at",{ascending:!1});if(S)throw console.error("Supabase error:",S),new Error(S.message);if(!k||k.length===0)throw new Error("No active raffles found");if(o(k),x){const T=k.find(C=>C.id===parseInt(x));c(T||k[0])}}catch(k){console.error("Error fetching raffles:",k),p(k instanceof Error?k.message:"An error occurred while fetching raffles"),o([]),c(null)}finally{d(!1)}})()},[x]);const m=_=>{if(t.some(k=>k.id===_.id)){r(k=>k.filter(S=>S.id!==_.id));return}r(k=>[...k,_])},g=_=>{r(_)},v=()=>{r([]),a(!1)},N=_=>{c(_),r([]),a(!1)};return u?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):h||i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx(Lx,{className:"text-red-500 mb-4",size:48}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 text-center max-w-md mb-4",children:h||"No hay sorteos activos disponibles en este momento."}),s.jsxs(Y,{to:"/sorteos",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[s.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Ver todos los sorteos"]})]}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("button",{onClick:()=>c(null),className:"inline-flex items-center text-green-600 hover:text-green-700 font-medium",children:[s.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Cambiar sorteo"]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[s.jsx("img",{src:l.image_url,alt:l.name,className:"w-full md:w-32 h-32 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:l.name}),s.jsx("p",{className:"text-gray-600 mb-2",children:l.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Sorteo: ",new Date(l.draw_date).toLocaleDateString()]}),s.jsxs("span",{className:"font-semibold text-green-600",children:["Precio: $",l.price.toLocaleString()," MXN"]})]})]})]})}),y&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Mi,{className:"h-5 w-5 text-blue-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Código de promotor activo:"})," ",y]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Tu compra será registrada para este promotor y recibirá su comisión correspondiente."})]})]})}),f&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ju,{className:"h-5 w-5 text-blue-400"})}),s.jsx("div",{className:"ml-3",children:s.jsxs("p",{className:"text-sm text-blue-700",children:["Tiempo restante para completar tu reserva: ",s.jsx("strong",{children:j})]})})]})})]}),n?s.jsx(Pw,{selectedTickets:t,raffleInfo:{id:l.id,name:l.name,price:l.price},onComplete:v,onCancel:()=>a(!1),promoterCode:y||void 0}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"md:col-span-3",children:s.jsx(_w,{raffleId:l.id,selectedTickets:t,onSelectTicket:m})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Tw,{raffleId:l.id,onTicketsSelected:g}),t.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Resumen de selección"}),s.jsxs("p",{className:"mb-2",children:[s.jsx("span",{className:"font-medium",children:"Boletos seleccionados:"})," ",t.length]}),s.jsxs("p",{className:"mb-4",children:[s.jsx("span",{className:"font-medium",children:"Total a pagar:"})," $",(t.length*l.price).toLocaleString()," MXN"]}),y&&s.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center text-green-700",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"font-medium",children:["Código: ",y]})]}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Comisión del promotor: $",(t.length*1e3).toLocaleString()," MXN"]})]}),s.jsx("button",{onClick:()=>a(!0),className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Continuar con la reserva"})]}),s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ju,{className:"h-5 w-5 text-yellow-400"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-yellow-700",children:"Los boletos serán reservados por 3 horas una vez completado el formulario. Si no se realiza el pago en ese tiempo, volverán a estar disponibles."})})]})})]})]})]}):s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Selecciona un Sorteo"}),s.jsx("p",{className:"text-gray-600",children:"Elige el sorteo en el que deseas participar para ver los boletos disponibles"})]}),y&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Mi,{className:"h-5 w-5 text-blue-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Código de promotor activo:"})," ",y]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Tu compra será registrada para este promotor y recibirá su comisión correspondiente."})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(_=>s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform hover:scale-105 transition-all duration-300 hover:shadow-xl",onClick:()=>N(_),children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:_.image_url,alt:_.name,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-0 right-0 m-2",children:s.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 text-sm rounded-full font-semibold shadow-lg",children:["$",_.price," MXN"]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:_.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:_.description}),s.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:s.jsxs("span",{children:["Sorteo: ",new Date(_.draw_date).toLocaleDateString()]})}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors font-medium",children:"Seleccionar este sorteo"})]})]},_.id))})]})})}),s.jsx(_t,{})]})},Ow=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(null),[a,i]=b.useState(!1),[o,l]=b.useState(null),c=async p=>{var y;if(p.preventDefault(),!e||isNaN(parseInt(e))){l("Por favor, ingresa un número de boleto válido");return}try{i(!0),l(null);const{data:x,error:w}=await D.from("tickets").select(`
          *,
          user:user_id(*),
          raffle:raffle_id(name)
        `).eq("number",parseInt(e)).single();if(w){if(w.code==="PGRST116")l("Boleto no encontrado. Verifica el número e intenta de nuevo.");else throw w;n(null);return}const j={...x,user:x.user,raffle_name:(y=x.raffle)==null?void 0:y.name};n(j)}catch(x){console.error("Error verifying ticket:",x),l("Ocurrió un error al verificar el boleto. Intenta de nuevo más tarde.")}finally{i(!1)}},u=()=>{if(!r)return"";switch(r.status){case"available":return"bg-green-50 border-green-200 text-green-700";case"reserved":return"bg-yellow-50 border-yellow-200 text-yellow-700";case"purchased":return"bg-blue-50 border-blue-200 text-blue-700";default:return"bg-gray-50 border-gray-200 text-gray-700"}},d=()=>{if(!r)return null;switch(r.status){case"available":return s.jsx(Yr,{className:"h-12 w-12 text-green-500"});case"reserved":return s.jsx(yf,{className:"h-12 w-12 text-yellow-500"});case"purchased":return s.jsx(Yr,{className:"h-12 w-12 text-blue-500"});default:return s.jsx(Ho,{className:"h-12 w-12 text-gray-500"})}},h=()=>{if(!r)return"";switch(r.status){case"available":return"Disponible";case"reserved":return"Reservado";case"purchased":return"Pagado";default:return"Desconocido"}};return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Verificar Boleto"}),s.jsx("p",{className:"text-gray-600 max-w-lg mx-auto",children:"Consulta el estado de tu boleto ingresando el número a continuación. Podrás ver si está disponible, reservado o ya ha sido pagado."})]}),s.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ticketNumber",className:"block text-sm font-medium text-gray-700",children:"Número de Boleto"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rf,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",id:"ticketNumber",name:"ticketNumber",value:e,onChange:p=>t(p.target.value),className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Ej. 12345"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${a?"opacity-75 cursor-not-allowed":""}`,children:a?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verificando..."]}):"Verificar Boleto"})})]}),o&&s.jsx("div",{className:"mt-4 rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ho,{className:"h-5 w-5 text-red-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:o})})]})]})}),r&&s.jsx("div",{className:`mt-6 border rounded-lg p-6 ${u()}`,children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center",children:[s.jsx("div",{className:"flex-shrink-0 mr-4 mb-4 sm:mb-0",children:d()}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Boleto #",r.number]}),s.jsxs("p",{className:"text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Estado:"})," ",h()]}),s.jsxs("p",{className:"text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Sorteo:"})," ",r.raffle_name||"N/A"]}),r.status!=="available"&&r.user&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Titular:"})," ",r.user.first_name," ",r.user.last_name]}),r.reserved_at&&s.jsxs("p",{className:"text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Fecha de reserva:"})," ",new Date(r.reserved_at).toLocaleString()]}),r.purchased_at&&s.jsxs("p",{className:"text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Fecha de pago:"})," ",new Date(r.purchased_at).toLocaleString()]})]})]})]})})]})})]})}),s.jsx(_t,{})]})},Lw=()=>s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"Contacto"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Información de Contacto"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx($f,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Teléfono"}),s.jsx("p",{className:"mt-1 text-gray-600",children:"+52 668 688 9571"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Lunes a Viernes: 9:00 AM - 6:00 PM"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Pf,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Correo Electrónico"}),s.jsx("p",{className:"mt-1 text-gray-600",children:"ventasweb@terrapesca.com"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Te respondemos en menos de 24 horas"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(cs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"WhatsApp"}),s.jsx("p",{className:"mt-1 text-gray-600",children:"+52 668 688 9571"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Mensajes directos para dudas o pagos"}),s.jsxs("a",{href:"https://wa.me/526686889571",target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:["Enviar mensaje",s.jsx(cs,{className:"ml-2 -mr-1 h-4 w-4"})]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Tf,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Dirección"}),s.jsxs("p",{className:"mt-1 text-gray-600",children:["Calle Niños Héroes 775, Colonia Bienestar",s.jsx("br",{}),"C.P. 81280, Los Mochis, Sinaloa, México"]})]})]})]}),s.jsxs("div",{className:"mt-10",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Síguenos"}),s.jsxs("div",{className:"flex justify-center space-x-5",children:[s.jsxs("a",{href:"https://www.facebook.com/Terrapesca",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-green-600 transition-colors",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx(Nf,{className:"h-6 w-6"})]}),s.jsxs("a",{href:"https://www.instagram.com/terrapesca/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-green-600 transition-colors",children:[s.jsx("span",{className:"sr-only",children:"Instagram"}),s.jsx(Cf,{className:"h-6 w-6"})]}),s.jsxs("a",{href:"https://www.youtube.com/@terrapesca",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-green-600 transition-colors",children:[s.jsx("span",{className:"sr-only",children:"YouTube"}),s.jsx(If,{className:"h-6 w-6"})]}),s.jsxs("a",{href:"https://www.tiktok.com/@terrapesca?is_from_webapp=1&sender_device=pc",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-green-600 transition-colors",children:[s.jsx("span",{className:"sr-only",children:"TikTok"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Envíanos un Mensaje"}),s.jsxs("form",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),s.jsx("input",{type:"text",name:"name",id:"name",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),s.jsx("input",{type:"email",name:"email",id:"email",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),s.jsx("input",{type:"tel",name:"phone",id:"phone",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Mensaje"}),s.jsx("textarea",{id:"message",name:"message",rows:4,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500 sm:text-sm"})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Enviar Mensaje"})})]}),s.jsxs("div",{className:"mt-8 bg-green-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium text-green-800 mb-3",children:"Preguntas frecuentes"}),s.jsxs("ul",{className:"space-y-4 text-sm",children:[s.jsxs("li",{children:[s.jsx("h4",{className:"font-medium text-green-700",children:"¿Cómo funciona el sorteo?"}),s.jsx("p",{className:"text-gray-600",children:"Selecciona tus boletos, realiza el pago y espera al día del sorteo que se realizará en vivo a través de nuestras redes sociales."})]}),s.jsxs("li",{children:[s.jsx("h4",{className:"font-medium text-green-700",children:"¿Cómo puedo pagar mi boleto?"}),s.jsx("p",{className:"text-gray-600",children:"Aceptamos transferencias bancarias, depósitos y pagos con tarjeta. Te contactaremos por WhatsApp para coordinar el método de pago."})]}),s.jsxs("li",{children:[s.jsx("h4",{className:"font-medium text-green-700",children:"¿Qué pasa si gano?"}),s.jsx("p",{className:"text-gray-600",children:"Te contactaremos directamente para coordinar la entrega de tu premio. Todos los gastos de entrega están incluidos."})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Y,{to:"/boletos",className:"text-green-700 font-medium hover:text-green-800",children:"Ver boletos disponibles →"})})]})]})]})]})}),s.jsx(_t,{})]}),Aw=({tickets:e,onRefresh:t})=>{const[r,n]=b.useState(""),[a,i]=b.useState("all"),[o,l]=b.useState([]),c=e.filter(x=>{var f,m,g,v,N,_;const w=x.number.toString().includes(r)||((m=(f=x.user)==null?void 0:f.first_name)==null?void 0:m.toLowerCase().includes(r.toLowerCase()))||((v=(g=x.user)==null?void 0:g.last_name)==null?void 0:v.toLowerCase().includes(r.toLowerCase()))||((_=(N=x.user)==null?void 0:N.phone)==null?void 0:_.includes(r)),j=a==="all"||x.status===a;return w&&j}),u=x=>{l(w=>w.includes(x)?w.filter(j=>j!==x):[...w,x])},d=()=>{o.length===c.length?l([]):l(c.map(x=>x.id))},h=async()=>{if(o.length===0){L.error("Selecciona al menos un boleto");return}try{const{error:x}=await D.from("tickets").update({status:"purchased",purchased_at:new Date().toISOString()}).in("id",o);if(x)throw x;L.success(`${o.length} boleto(s) marcados como pagados`),l([]),t()}catch(x){console.error("Error confirming payment:",x),L.error("Hubo un error al confirmar el pago")}},p=async()=>{if(o.length===0){L.error("Selecciona al menos un boleto");return}try{const{error:x}=await D.from("tickets").update({status:"available",user_id:null,reserved_at:null,purchased_at:null}).in("id",o);if(x)throw x;L.success(`${o.length} boleto(s) liberados`),l([]),t()}catch(x){console.error("Error releasing tickets:",x),L.error("Hubo un error al liberar los boletos")}},y=()=>{try{const x=c.map(N=>{var _,k,S,T;return{numero:N.number,estado:N.status,nombre:((_=N.user)==null?void 0:_.first_name)||"",apellidos:((k=N.user)==null?void 0:k.last_name)||"",telefono:((S=N.user)==null?void 0:S.phone)||"",estado_usuario:((T=N.user)==null?void 0:T.state)||"",fecha_reserva:N.reserved_at||"",fecha_pago:N.purchased_at||""}}),w=Object.keys(x[0]).join(","),j=x.map(N=>Object.values(N).join(",")),f=[w,...j].join(`
`),m=new Blob([f],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(m),v=document.createElement("a");v.setAttribute("href",g),v.setAttribute("download",`tickets-${new Date().toISOString().split("T")[0]}.csv`),v.style.visibility="hidden",document.body.appendChild(v),v.click(),document.body.removeChild(v),L.success("Archivo CSV generado")}catch(x){console.error("Error exporting to CSV:",x),L.error("Error al generar el archivo CSV")}};return s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Rf,{size:16,className:"text-gray-400"})}),s.jsx("input",{type:"text",value:r,onChange:x=>n(x.target.value),placeholder:"Buscar por número, nombre o teléfono...",className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"all",children:"Todos"}),s.jsx("option",{value:"available",children:"Disponibles"}),s.jsx("option",{value:"reserved",children:"Reservados"}),s.jsx("option",{value:"purchased",children:"Pagados"})]})})]}),o.length>0&&s.jsxs("div",{className:"flex items-center mt-4 gap-2",children:[s.jsxs("button",{onClick:h,className:"inline-flex items-center px-3 py-1.5 bg-green-500 text-white text-sm rounded-md hover:bg-green-600",children:[s.jsx(zx,{size:16,className:"mr-1"}),"Confirmar pago"]}),s.jsxs("button",{onClick:p,className:"inline-flex items-center px-3 py-1.5 bg-red-500 text-white text-sm rounded-md hover:bg-red-600",children:[s.jsx(rt,{size:16,className:"mr-1"}),"Liberar boletos"]}),s.jsxs("button",{onClick:y,className:"inline-flex items-center px-3 py-1.5 bg-blue-500 text-white text-sm rounded-md hover:bg-blue-600",children:[s.jsx(Vx,{size:16,className:"mr-1"}),"Exportar CSV"]}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[o.length," boletos seleccionados"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.jsx("div",{className:"flex items-center",children:s.jsx("input",{type:"checkbox",checked:c.length>0&&o.length===c.length,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teléfono"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Reserva"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.length>0?c.map(x=>{var w,j;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("input",{type:"checkbox",checked:o.includes(x.id),onChange:()=>u(x.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:x.number}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x.status==="available"?"bg-green-100 text-green-800":x.status==="reserved"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:x.status==="available"?"Disponible":x.status==="reserved"?"Reservado":"Pagado"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.user?`${x.user.first_name} ${x.user.last_name}`:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((w=x.user)==null?void 0:w.phone)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((j=x.user)==null?void 0:j.state)||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.reserved_at?new Date(x.reserved_at).toLocaleString():"-"})]},x.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron boletos"})})})]})})]})},Iw=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState({name:"",code:""});b.useEffect(()=>{d()},[]);const d=async()=>{try{n(!0);const{data:v,error:N}=await D.from("promoter_stats").select("*").order("total_sales",{ascending:!1});if(N)throw N;t(v||[])}catch(v){console.error("Error fetching promoters:",v),L.error("Error al cargar los promotores")}finally{n(!1)}},h=async v=>{v.preventDefault();try{if(o){const{error:N}=await D.from("promoters").update({name:c.name,code:c.code.toUpperCase()}).eq("id",o.id);if(N)throw N;L.success("Promotor actualizado exitosamente")}else{const{error:N}=await D.from("promoters").insert({name:c.name,code:c.code.toUpperCase()});if(N)throw N;L.success("Promotor creado exitosamente")}u({name:"",code:""}),i(!1),l(null),d()}catch(N){console.error("Error saving promoter:",N),N.code==="23505"?L.error("El código del promotor ya existe"):L.error("Error al guardar el promotor")}},p=v=>{l(v),u({name:v.name,code:v.code}),i(!0)},y=async v=>{if(confirm("¿Estás seguro de eliminar este promotor?"))try{const{error:N}=await D.from("promoters").delete().eq("id",v);if(N)throw N;L.success("Promotor eliminado exitosamente"),d()}catch(N){console.error("Error deleting promoter:",N),L.error("Error al eliminar el promotor")}},x=async(v,N)=>{try{const{error:_}=await D.from("promoters").update({active:!N}).eq("id",v);if(_)throw _;L.success(`Promotor ${N?"desactivado":"activado"} exitosamente`),d()}catch(_){console.error("Error toggling promoter status:",_),L.error("Error al cambiar el estado del promotor")}},w=async v=>{try{const _=`${window.location.origin}/boletos?promo=${v}`;await navigator.clipboard.writeText(_),L.success("¡Enlace copiado al portapapeles!")}catch(N){console.error("Error copying to clipboard:",N),L.error("Error al copiar el enlace")}},j=v=>{const _=`${window.location.origin}/boletos?promo=${v}`;window.open(_,"_blank")},f=e.reduce((v,N)=>v+N.total_sales,0),m=e.reduce((v,N)=>v+N.accumulated_bonus,0),g=e.filter(v=>v.active).length;return r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard de Promotores"}),s.jsxs("button",{onClick:()=>{i(!0),l(null),u({name:"",code:""})},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[s.jsx(Kt,{className:"mr-2 h-4 w-4"}),"Nuevo Promotor"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(vs,{className:"h-6 w-6 text-gray-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Promotores Activos"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:g})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Yx,{className:"h-6 w-6 text-green-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Ventas"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:f})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ti,{className:"h-6 w-6 text-green-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Bonos"}),s.jsxs("dd",{className:"text-lg font-medium text-gray-900",children:["$",m.toLocaleString()," MXN"]})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qo,{className:"h-6 w-6 text-yellow-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Premios Extra"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.filter(v=>v.extra_prize).length})]})})]})})})]}),a&&s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:o?"Editar Promotor":"Nuevo Promotor"}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),s.jsx("input",{type:"text",value:c.name,onChange:v=>u({...c,name:v.target.value}),required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Código"}),s.jsx("input",{type:"text",value:c.code,onChange:v=>u({...c,code:v.target.value.toUpperCase()}),required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",placeholder:"Ej: JP001"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{i(!1),l(null),u({name:"",code:""})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:o?"Actualizar":"Crear"})]})]})]}),s.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[s.jsx("div",{className:"px-4 py-5 sm:px-6",children:s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Lista de Promotores"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Promotor"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ventas"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bonos Acumulados"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enlace Personalizado"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(v=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),v.extra_prize&&s.jsxs("div",{className:"flex items-center text-xs text-yellow-600",children:[s.jsx(qo,{className:"h-3 w-3 mr-1"}),"Premio Extra"]})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:v.code})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.total_sales}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",v.accumulated_bonus.toLocaleString()," MXN"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>x(v.id,v.active),className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.active?"Activo":"Inactivo"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>w(v.code),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Copiar enlace",children:[s.jsx(bf,{className:"h-3 w-3 mr-1"}),"Copiar"]}),s.jsxs("button",{onClick:()=>j(v.code),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Abrir enlace",children:[s.jsx(jf,{className:"h-3 w-3 mr-1"}),"Abrir"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>p(v),className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>y(v.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Af,{className:"h-4 w-4"})})]})})]},v.id))})]})})]})]})},om=({targetDate:e})=>{const[t,r]=b.useState({days:0,hours:0,minutes:0,seconds:0});return b.useEffect(()=>{const n=()=>{const i=+new Date(e)-+new Date;i>0&&r({days:Math.floor(i/864e5),hours:Math.floor(i/36e5%24),minutes:Math.floor(i/1e3/60%60),seconds:Math.floor(i/1e3%60)})};n();const a=setInterval(n,1e3);return()=>clearInterval(a)},[e]),s.jsxs("div",{className:"flex gap-4 text-center",children:[s.jsxs("div",{className:"bg-white w-24 h-24 rounded-lg shadow-lg flex flex-col justify-center items-center transform transition-all hover:scale-105",children:[s.jsx("span",{className:"text-3xl font-bold text-green-700 animate-pulse",children:t.days}),s.jsx("span",{className:"text-sm text-gray-500",children:"Días"})]}),s.jsxs("div",{className:"bg-white w-24 h-24 rounded-lg shadow-lg flex flex-col justify-center items-center transform transition-all hover:scale-105",children:[s.jsx("span",{className:"text-3xl font-bold text-green-700 animate-pulse",children:t.hours.toString().padStart(2,"0")}),s.jsx("span",{className:"text-sm text-gray-500",children:"Horas"})]}),s.jsxs("div",{className:"bg-white w-24 h-24 rounded-lg shadow-lg flex flex-col justify-center items-center transform transition-all hover:scale-105",children:[s.jsx("span",{className:"text-3xl font-bold text-green-700 animate-pulse",children:t.minutes.toString().padStart(2,"0")}),s.jsx("span",{className:"text-sm text-gray-500",children:"Minutos"})]}),s.jsxs("div",{className:"bg-white w-24 h-24 rounded-lg shadow-lg flex flex-col justify-center items-center transform transition-all hover:scale-105",children:[s.jsx("span",{className:"text-3xl font-bold text-green-700 animate-pulse",children:t.seconds.toString().padStart(2,"0")}),s.jsx("span",{className:"text-sm text-gray-500",children:"Segundos"})]})]})},Mw=()=>{const[e,t]=b.useState(!1),[r,n]=b.useState(!0),[a,i]=b.useState([]),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,h]=b.useState(!1),[p,y]=b.useState(null),[x,w]=b.useState([]),[j,f]=b.useState(null),[m,g]=b.useState("tickets"),[v,N]=b.useState({totalTickets:0,available:0,reserved:0,purchased:0,totalSales:0});b.useEffect(()=>{(async()=>{try{const{data:q,error:re}=await D.auth.getSession();if(re){console.error("Session check error:",re),L.error("Error al verificar la sesión");return}t(!!q.session),q.session&&_()}catch(q){console.error("Error checking session:",q),L.error("Error al verificar la sesión")}finally{n(!1)}})();const{data:A}=D.auth.onAuthStateChange(async(q,re)=>{t(!!re),re&&await _()});return()=>{A.subscription.unsubscribe()}},[]);const _=async()=>{try{const{data:P,error:A}=await D.from("raffles").select("*").order("created_at",{ascending:!1});if(A){console.error("Error fetching raffles:",A),L.error("Error al cargar los sorteos");return}w(P),P&&P.length>0&&!j&&(f(P[0].id),k(P[0].id))}catch(P){console.error("Error fetching raffles:",P),L.error("Error al cargar los sorteos")}},k=async P=>{try{n(!0);const{data:A,error:q}=await D.from("tickets").select(`
          *,
          user:user_id(*)
        `).eq("raffle_id",P).order("number",{ascending:!0});if(q){console.error("Error fetching tickets:",q),L.error("Error al cargar los boletos");return}i(A);const re={totalTickets:A.length,available:A.filter(M=>M.status==="available").length,reserved:A.filter(M=>M.status==="reserved").length,purchased:A.filter(M=>M.status==="purchased").length,totalSales:0},{data:st,error:$}=await D.from("raffles").select("price").eq("id",P).single();$?console.error("Error fetching raffle price:",$):st&&(re.totalSales=re.purchased*st.price),N(re)}catch(A){console.error("Error fetching tickets:",A),L.error("Error al cargar los boletos")}finally{n(!1)}},S=async P=>{if(P.preventDefault(),!o||!c){L.error("Por favor ingresa tu correo y contraseña");return}try{h(!0),y(null);const{error:A}=await D.auth.signInWithPassword({email:o,password:c});if(A){console.error("Login error:",A),A.message.includes("Invalid login credentials")?y("Credenciales inválidas. Por favor verifica tu correo y contraseña."):A.message.includes("Failed to fetch")?y("Error de conexión. Por favor verifica tu conexión a internet."):y(`Error al iniciar sesión: ${A.message}`);return}L.success("Inicio de sesión exitoso")}catch(A){console.error("Error logging in:",A),y("Error inesperado al iniciar sesión. Por favor intenta de nuevo.")}finally{h(!1)}},T=async()=>{try{const{error:P}=await D.auth.signOut();if(P){console.error("Logout error:",P),L.error("Error al cerrar sesión");return}L.success("Sesión cerrada")}catch(P){console.error("Error logging out:",P),L.error("Error al cerrar sesión")}},C=P=>{const A=parseInt(P.target.value);f(A),m==="tickets"&&k(A)},I=async()=>{j&&m==="tickets"&&(await k(j),L.success("Datos actualizados"))};if(r&&!e)return s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})});if(!e)return s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"bg-white py-8 px-6 shadow rounded-lg",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-6",children:"Panel de Administración"}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:P=>l(P.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:P=>u(P.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-green-500 focus:border-green-500"})]}),p&&s.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:p}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${d?"opacity-75 cursor-not-allowed":""}`,children:d?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Iniciando sesión..."]}):"Iniciar Sesión"})})]})]})})});const ae=x.find(P=>P.id===j);return s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx("header",{className:"bg-white shadow",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administración"}),s.jsxs("button",{onClick:T,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[s.jsx(Wx,{className:"mr-2 h-4 w-4"}),"Cerrar Sesión"]})]})}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>g("tickets"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="tickets"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(gr,{className:"inline-block mr-2 h-4 w-4"}),"Gestión de Boletos"]}),s.jsxs("button",{onClick:()=>g("promoters"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="promoters"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Zx,{className:"inline-block mr-2 h-4 w-4"}),"Promotores"]})]})})}),m==="promoters"?s.jsx(Iw,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"raffle-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar Sorteo"}),s.jsx("select",{id:"raffle-select",value:j||"",onChange:C,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:x.map(P=>s.jsxs("option",{value:P.id,children:[P.name," (",new Date(P.draw_date).toLocaleDateString(),")"]},P.id))})]}),s.jsxs("button",{onClick:I,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[s.jsx(Jl,{className:"mr-2 h-4 w-4"}),"Actualizar Datos"]})]}),ae&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg mb-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ei,{className:"h-6 w-6 text-green-600 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Tiempo restante para el sorteo"})]}),s.jsx(om,{targetDate:ae.draw_date})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(gr,{className:"h-6 w-6 text-gray-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Boletos"}),s.jsx("dd",{children:s.jsx("div",{className:"text-lg font-medium text-gray-900",children:v.totalTickets})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(vs,{className:"h-6 w-6 text-gray-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Boletos Reservados"}),s.jsx("dd",{children:s.jsx("div",{className:"text-lg font-medium text-gray-900",children:v.reserved})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(gr,{className:"h-6 w-6 text-green-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Boletos Pagados"}),s.jsx("dd",{children:s.jsx("div",{className:"text-lg font-medium text-gray-900",children:v.purchased})})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(ti,{className:"h-6 w-6 text-green-400"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Ventas"}),s.jsx("dd",{children:s.jsxs("div",{className:"text-lg font-medium text-gray-900",children:["$",v.totalSales.toLocaleString()," MXN"]})})]})})]})})})]}),r?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s.jsx(Aw,{tickets:a,onRefresh:I})]})]})]})},zw=({onComplete:e,onCancel:t})=>{const[r,n]=b.useState({name:"",description:"",image_url:"",video_url:"",price:"",draw_date:"",draw_time:"",total_tickets:"",status:"draft",images:[],video_urls:[],prize_items:[]}),[a,i]=b.useState(!1),o=x=>{const{name:w,value:j}=x.target;n(f=>({...f,[w]:j}))},l=()=>{const x=prompt("Ingresa la URL de la imagen:");x&&n(w=>({...w,images:[...w.images,x]}))},c=x=>{n(w=>({...w,images:w.images.filter((j,f)=>f!==x)}))},u=()=>{const x=prompt("Ingresa la URL del video (YouTube, Vimeo o video directo):");x&&n(w=>({...w,video_urls:[...w.video_urls,x]}))},d=x=>{n(w=>({...w,video_urls:w.video_urls.filter((j,f)=>f!==x)}))},h=()=>{const x=prompt("Ingresa un elemento del premio:");x&&n(w=>({...w,prize_items:[...w.prize_items,x]}))},p=x=>{n(w=>({...w,prize_items:w.prize_items.filter((j,f)=>f!==x)}))},y=async x=>{x.preventDefault();try{i(!0);const w=`${r.draw_date}T${r.draw_time}`,{data:j,error:f}=await D.from("raffles").insert({name:r.name,description:r.description,image_url:r.image_url,video_url:r.video_url||null,price:parseFloat(r.price),draw_date:w,total_tickets:parseInt(r.total_tickets),status:r.status,images:r.images,video_urls:r.video_urls,prize_items:r.prize_items}).select().single();if(f)throw f;const m=Array.from({length:parseInt(r.total_tickets)},(v,N)=>({number:1001+N,status:"available",raffle_id:j.id})),{error:g}=await D.from("tickets").insert(m);if(g)throw g;L.success("Sorteo creado exitosamente"),e()}catch(w){console.error("Error creating raffle:",w),L.error("Error al crear el sorteo")}finally{i(!1)}};return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Nuevo Sorteo"}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado inicial"}),s.jsxs("select",{name:"status",value:r.status,onChange:o,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",children:[s.jsx("option",{value:"draft",children:"Borrador"}),s.jsx("option",{value:"active",children:"Activo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Título del sorteo"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kf,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",name:"name",value:r.name,onChange:o,required:!0,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Ej: Gran Sorteo Verano 2025"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),s.jsx("div",{className:"mt-1",children:s.jsx("textarea",{name:"description",value:r.description,onChange:o,rows:4,className:"shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Describe los detalles del premio y condiciones importantes"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL de la imagen principal"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ef,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"url",name:"image_url",value:r.image_url,onChange:o,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"https://ejemplo.com/imagen.jpg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL del video principal (opcional)"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Zr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"url",name:"video_url",value:r.video_url,onChange:o,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"https://youtube.com/watch?v=... o https://vimeo.com/..."})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Soporta YouTube, Vimeo y videos directos (.mp4, .webm, etc.)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Galería de imágenes"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4",children:[r.images.map((x,w)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:`Imagen ${w+1}`,className:"w-full h-32 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>c(w),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(rt,{size:16})})]},w)),s.jsx("button",{type:"button",onClick:l,className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50",children:s.jsx(Kt,{className:"h-8 w-8 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Videos adicionales"]})}),s.jsxs("div",{className:"space-y-2 mb-4",children:[r.video_urls.map((x,w)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700 truncate max-w-xs",children:x})]}),s.jsx("button",{type:"button",onClick:()=>d(w),className:"p-1 text-red-500 hover:text-red-700",children:s.jsx(rt,{size:16})})]},w)),s.jsxs("button",{type:"button",onClick:u,className:"flex items-center justify-center w-full p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 text-gray-500 hover:text-green-600",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Agregar video"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-4 w-4 mr-2"}),"Contenido del premio"]})}),s.jsxs("div",{className:"space-y-2 mb-4",children:[r.prize_items.map((x,w)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:x}),s.jsx("button",{type:"button",onClick:()=>p(w),className:"p-1 text-red-500 hover:text-red-700",children:s.jsx(rt,{size:16})})]},w)),s.jsxs("button",{type:"button",onClick:h,className:"flex items-center justify-center w-full p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 text-gray-500 hover:text-green-600",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Agregar elemento del premio"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio del boleto"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ti,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"number",name:"price",value:r.price,onChange:o,required:!0,min:"1",step:"0.01",className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha del sorteo"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",name:"draw_date",value:r.draw_date,onChange:o,required:!0,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hora del sorteo"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"time",name:"draw_time",value:r.draw_time,onChange:o,required:!0,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total de boletos"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(_f,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"number",name:"total_tickets",value:r.total_tickets,onChange:o,required:!0,min:"1",max:"8999",className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"100"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Los números de boleto serán generados automáticamente desde 1001 hasta ",r.total_tickets?1e3+parseInt(r.total_tickets):"9999"]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:a,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${a?"opacity-75 cursor-not-allowed":""}`,children:a?"Creando...":"Crear Sorteo"})]})]})]})},Dw=({raffle:e,onComplete:t,onCancel:r})=>{var j;const[n,a]=b.useState({name:e.name,description:e.description,image_url:e.image_url,video_url:e.video_url||"",images:e.images||[],video_urls:e.video_urls||[],price:e.price,draw_date:e.draw_date.split("T")[0],draw_time:((j=e.draw_date.split("T")[1])==null?void 0:j.split(".")[0])||"00:00",total_tickets:e.total_tickets,status:e.status,prize_items:e.prize_items||[]}),[i,o]=b.useState(!1),l=f=>{const{name:m,value:g}=f.target;a(v=>({...v,[m]:g}))},c=()=>{const f=prompt("Ingresa la URL de la imagen:");f&&a(m=>({...m,images:[...m.images,f]}))},u=f=>{a(m=>({...m,images:m.images.filter((g,v)=>v!==f)}))},d=()=>{const f=prompt("Ingresa la URL del video (YouTube, Vimeo o video directo):");f&&a(m=>({...m,video_urls:[...m.video_urls,f]}))},h=f=>{a(m=>({...m,video_urls:m.video_urls.filter((g,v)=>v!==f)}))},p=()=>{const f=prompt("Ingresa un elemento del premio:");f&&a(m=>({...m,prize_items:[...m.prize_items,f]}))},y=f=>{a(m=>({...m,prize_items:m.prize_items.filter((g,v)=>v!==f)}))},x=f=>{const m=f.target.value.split(`
`).filter(g=>g.trim()!=="");a(g=>({...g,prize_items:m}))},w=async f=>{if(f.preventDefault(),e.status==="completed"){L.error("No se puede editar un sorteo finalizado");return}try{o(!0);const m=`${n.draw_date}T${n.draw_time}`,{error:g}=await D.from("raffles").update({name:n.name,description:n.description,image_url:n.image_url,video_url:n.video_url||null,images:n.images,video_urls:n.video_urls,price:n.price,draw_date:m,total_tickets:n.total_tickets,status:n.status,prize_items:n.prize_items}).eq("id",e.id);if(g)throw g;L.success("Sorteo actualizado exitosamente"),t()}catch(m){console.error("Error updating raffle:",m),L.error("Error al actualizar el sorteo")}finally{o(!1)}};return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Editar Sorteo"}),s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado del sorteo"}),s.jsxs("select",{name:"status",value:n.status,onChange:l,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",disabled:e.status==="completed",children:[s.jsx("option",{value:"draft",children:"Borrador"}),s.jsx("option",{value:"active",children:"Activo"}),s.jsx("option",{value:"completed",children:"Completado"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Título del sorteo"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kf,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:l,required:!0,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),s.jsx("div",{className:"mt-1",children:s.jsx("textarea",{name:"description",value:n.description,onChange:l,rows:4,className:"shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL de la imagen principal"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Ef,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"url",name:"image_url",value:n.image_url,onChange:l,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL del video principal (opcional)"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Zr,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"url",name:"video_url",value:n.video_url,onChange:l,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"https://youtube.com/watch?v=... o https://vimeo.com/..."})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Soporta YouTube, Vimeo y videos directos (.mp4, .webm, etc.)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Galería de imágenes"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-4",children:[n.images.map((f,m)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:f,alt:`Imagen ${m+1}`,className:"w-full h-32 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>u(m),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(rt,{size:16})})]},m)),s.jsx("button",{type:"button",onClick:c,className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50",children:s.jsx(Kt,{className:"h-8 w-8 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Videos adicionales"]})}),s.jsxs("div",{className:"space-y-2 mb-4",children:[n.video_urls.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700 truncate max-w-xs",children:f})]}),s.jsx("button",{type:"button",onClick:()=>h(m),className:"p-1 text-red-500 hover:text-red-700",children:s.jsx(rt,{size:16})})]},m)),s.jsxs("button",{type:"button",onClick:d,className:"flex items-center justify-center w-full p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 text-gray-500 hover:text-green-600",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Agregar video"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-4 w-4 mr-2"}),"Contenido del premio"]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Editar todos los artículos (uno por línea):"}),s.jsx("textarea",{value:n.prize_items.join(`
`),onChange:x,rows:15,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 text-sm font-mono",placeholder:"Ingresa cada artículo en una línea separada..."}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Usa emojis para hacer más atractiva la lista. Líneas vacías se mantendrán como separadores."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vista previa:"}),s.jsx("div",{className:"space-y-1",children:n.prize_items.map((f,m)=>s.jsxs("div",{className:"flex items-center justify-between group",children:[s.jsx("span",{className:`text-sm ${f.trim()===""?"text-gray-300":"text-gray-700"}`,children:f.trim()===""?"(separador)":f}),s.jsx("button",{type:"button",onClick:()=>y(m),className:"opacity-0 group-hover:opacity-100 p-1 text-red-500 hover:text-red-700 transition-opacity",children:s.jsx(rt,{size:14})})]},m))})]}),s.jsxs("button",{type:"button",onClick:p,className:"mt-2 flex items-center justify-center w-full p-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 text-gray-500 hover:text-green-600 text-sm",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Agregar artículo individual"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio del boleto"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ti,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"number",name:"price",value:n.price,onChange:l,required:!0,min:"1",step:"0.01",className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha del sorteo"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"date",name:"draw_date",value:n.draw_date,onChange:l,required:!0,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hora del sorteo"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(kt,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"time",name:"draw_time",value:n.draw_time,onChange:l,required:!0,className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total de boletos"}),s.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(_f,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"number",name:"total_tickets",value:n.total_tickets,onChange:l,required:!0,min:"1",className:"focus:ring-green-500 focus:border-green-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:i||e.status==="completed",className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${i||e.status==="completed"?"opacity-50 cursor-not-allowed":""}`,children:i?"Guardando...":"Guardar Cambios"})]})]})]})},Uw=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState("");b.useEffect(()=>{d(),h()},[]);const d=async()=>{try{const{data:j,error:f}=await D.from("promoters").select("*").eq("active",!0).order("name");if(f)throw f;t(j||[])}catch(j){console.error("Error fetching promoters:",j),L.error("Error al cargar los promotores")}},h=async()=>{try{const{data:j,error:f}=await D.from("raffles").select("id, name, status").eq("status","active").order("name");if(f)throw f;n(j||[])}catch(j){console.error("Error fetching raffles:",j),L.error("Error al cargar los sorteos")}},p=()=>{if(!a){L.error("Selecciona un promotor");return}let f=`${window.location.origin}/boletos?promo=${a}`;o&&(f+=`&raffle=${o}`),u(f)},y=async()=>{try{await navigator.clipboard.writeText(c),L.success("¡Enlace copiado al portapapeles!")}catch(j){console.error("Error copying to clipboard:",j),L.error("Error al copiar el enlace")}},x=async()=>{const j=e.find(v=>v.code===a),f=r.find(v=>v.id.toString()===o),m=`Enlace de promotor - ${j==null?void 0:j.name}`,g=`Compra boletos con el código de promotor ${a}${f?` para el sorteo: ${f.name}`:""}`;if(navigator.share)try{await navigator.share({title:m,text:g,url:c})}catch(v){console.error("Error sharing:",v)}else{const v=encodeURIComponent(`${g}

${c}`);window.open(`https://wa.me/?text=${v}`,"_blank")}},w=()=>{window.open(c,"_blank")};return s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Generador de Enlaces de Promotor"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar Promotor *"}),s.jsxs("select",{value:a,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Selecciona un promotor"}),e.map(j=>s.jsxs("option",{value:j.code,children:[j.code," - ",j.name]},j.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar Sorteo (Opcional)"}),s.jsxs("select",{value:o,onChange:j=>l(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[s.jsx("option",{value:"",children:"Todos los sorteos activos"}),r.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]})]}),s.jsx("button",{onClick:p,disabled:!a,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${a?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"}`,children:"Generar Enlace"}),c&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enlace Generado:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-white text-sm"}),s.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-gray-700 rounded-md hover:bg-gray-100",title:"Copiar enlace",children:s.jsx(bf,{className:"h-4 w-4"})}),s.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:text-gray-700 rounded-md hover:bg-gray-100",title:"Compartir enlace",children:s.jsx(Xl,{className:"h-4 w-4"})}),s.jsx("button",{onClick:w,className:"p-2 text-gray-500 hover:text-gray-700 rounded-md hover:bg-gray-100",title:"Abrir enlace",children:s.jsx(jf,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[s.jsx("p",{children:s.jsx("strong",{children:"Instrucciones:"})}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"Comparte este enlace con tus clientes"}),s.jsx("li",{children:"Cuando compren boletos usando este enlace, se registrará automáticamente tu código"}),s.jsx("li",{children:"Recibirás $1,000 MXN de comisión por cada boleto vendido"}),s.jsx("li",{children:"Si tu boleto resulta ganador, recibirás $1,000 MXN adicionales"})]})]})]})]})]})},Fw=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[p,y]=b.useState(!1);b.useEffect(()=>{x(),w()},[]);const x=async()=>{var k;try{const{data:{session:S}}=await D.auth.getSession(),T=!!S;if(y(T),d){console.log("🔐 Authentication Status:",{authenticated:T,user_id:(k=S==null?void 0:S.user)==null?void 0:k.id,session:!!S});const{data:C,error:I}=await D.rpc("check_raffle_permissions");I?console.error("❌ Error checking permissions:",I):console.log("✅ Permissions check:",C)}return T}catch(S){return console.error("Error checking authentication:",S),!1}},w=async()=>{try{n(!0);const{data:k,error:S}=await D.from("raffles").select("*").order("created_at",{ascending:!1});if(S)throw S;t(k),d&&console.log("📊 Raffles fetched:",(k==null?void 0:k.length)||0)}catch(k){console.error("Error fetching raffles:",k),L.error("Error al cargar los sorteos")}finally{n(!1)}},j=async(k,S)=>{if(!p){L.error("Debes estar autenticado para realizar esta acción");return}try{if(d){console.log("🔄 Attempting status change:",{raffleId:k,newStatus:S});const{data:C,error:I}=await D.rpc("debug_raffle_update",{raffle_id:k,new_status:S});I?console.error("❌ Debug function error:",I):console.log("🐛 Debug result:",C)}const{error:T}=await D.from("raffles").update({status:S,updated_at:new Date().toISOString()}).eq("id",k);if(T)throw console.error("❌ Update error:",T),T;L.success(`Estado cambiado a ${S}`),await w()}catch(T){console.error("Error updating raffle status:",T),L.error(`Error al cambiar el estado: ${T.message}`)}},f=async k=>{if(confirm("¿Estás seguro de eliminar este sorteo?"))try{const{error:S}=await D.from("raffles").delete().eq("id",k);if(S)throw S;L.success("Sorteo eliminado"),w()}catch(S){console.error("Error deleting raffle:",S),L.error("Error al eliminar el sorteo")}},m=k=>{if(k.status==="completed"){L.error("No se puede editar un sorteo finalizado");return}l(k)},g=async k=>{try{const S=`${window.location.origin}/sorteo/${k}`;await navigator.clipboard.writeText(S),L.success("Enlace copiado al portapapeles")}catch(S){console.error("Error copying link:",S),L.error("Error al copiar el enlace")}},v=()=>{h(!d),L.success(`Modo debug ${d?"desactivado":"activado"}`)},N=k=>{switch(k){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_=k=>{switch(k){case"completed":return"Finalizado";case"active":return"Activo";case"draft":return"Borrador";default:return k}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Sorteos"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:v,className:`inline-flex items-center px-3 py-2 border rounded-md shadow-sm text-sm font-medium ${d?"border-red-300 text-red-700 bg-red-50 hover:bg-red-100":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:[d?s.jsx(Ax,{className:"h-4 w-4 mr-2"}):s.jsx(Ix,{className:"h-4 w-4 mr-2"}),"Debug ",d?"ON":"OFF"]}),s.jsxs("button",{onClick:()=>u(!c),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[s.jsx(vs,{className:"h-5 w-5 mr-2"}),"Enlaces de Promotor"]}),s.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[s.jsx(Kt,{className:"h-5 w-5 mr-2"}),"Nuevo Sorteo"]})]})]}),d&&s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"🐛 Modo Debug Activo"}),s.jsxs("div",{className:"text-xs text-yellow-700",children:[s.jsxs("p",{children:["• Estado de autenticación: ",p?"✅ Autenticado":"❌ No autenticado"]}),s.jsx("p",{children:"• Revisa la consola del navegador para logs detallados"}),s.jsx("p",{children:"• Los cambios de estado mostrarán información de debugging"})]})]}),c&&s.jsx("div",{className:"mb-6",children:s.jsx(Uw,{})}),a?s.jsx(zw,{onComplete:()=>{i(!1),w()},onCancel:()=>i(!1)}):o?s.jsx(Dw,{raffle:o,onComplete:()=>{l(null),w()},onCancel:()=>l(null)}):r?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(k=>s.jsx("li",{children:s.jsx("div",{className:"px-4 py-4 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:k.image_url,alt:k.name})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:k.name}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Sorteo: ",new Date(k.draw_date).toLocaleDateString()]}),s.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${N(k.status)}`,children:_(k.status)})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:k.status,onChange:S=>j(k.id,S.target.value),disabled:k.status==="completed",className:`text-sm border border-gray-300 rounded-md px-2 py-1 ${k.status==="completed"?"bg-gray-100 cursor-not-allowed":"bg-white"}`,children:[s.jsx("option",{value:"draft",children:"Borrador"}),s.jsx("option",{value:"active",children:"Activo"}),s.jsx("option",{value:"completed",children:"Finalizado"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Y,{to:`/sorteo/${k.slug}`,target:"_blank",className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:s.jsx(qx,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>g(k.slug),className:"inline-flex items-center p-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:s.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})})}),s.jsx("button",{onClick:()=>m(k),disabled:k.status==="completed",className:`inline-flex items-center p-2 border border-gray-300 rounded-md text-sm font-medium ${k.status==="completed"?"text-gray-400 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"}`,children:s.jsx(Lf,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>f(k.id),className:"inline-flex items-center p-2 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:s.jsx(Af,{className:"h-4 w-4"})})]})]})]})})},k.id))})})]})},Bw=({videoUrl:e,title:t="Video",thumbnail:r,className:n="",autoplay:a=!1})=>{const[i,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!0),h=b.useRef(null),p=(g,v=!1)=>{var N,_,k,S,T,C;try{if(g.includes("youtube.com")||g.includes("youtu.be")){let I="";if(g.includes("youtu.be/")?I=(_=(N=g.split("youtu.be/")[1])==null?void 0:N.split("?")[0])==null?void 0:_.split("&")[0]:g.includes("youtube.com/watch")?I=new URLSearchParams(g.split("?")[1]||"").get("v")||"":g.includes("youtube.com/embed/")&&(I=(S=(k=g.split("youtube.com/embed/")[1])==null?void 0:k.split("?")[0])==null?void 0:S.split("&")[0]),!I)return g;let ae=`https://www.youtube-nocookie.com/embed/${I}`;const P=new URLSearchParams;return P.set("rel","0"),P.set("modestbranding","1"),P.set("playsinline","1"),v&&(P.set("autoplay","1"),P.set("mute","1")),`${ae}?${P.toString()}`}if(g.includes("vimeo.com")){let I="";if(g.includes("vimeo.com/")&&(I=(C=(T=g.split("vimeo.com/")[1])==null?void 0:T.split("?")[0])==null?void 0:C.split("/")[0]),!I)return g;let ae=`https://player.vimeo.com/video/${I}`;const P=new URLSearchParams;return P.set("dnt","1"),v&&(P.set("autoplay","1"),P.set("muted","1")),`${ae}?${P.toString()}`}return g}catch(I){return console.error("Error processing video URL:",I),g}},y=g=>{var v,N;if(g.includes("youtube.com")||g.includes("youtu.be")){let _="";if(g.includes("youtu.be/")?_=(N=(v=g.split("youtu.be/")[1])==null?void 0:v.split("?")[0])==null?void 0:N.split("&")[0]:g.includes("youtube.com/watch")&&(_=new URLSearchParams(g.split("?")[1]||"").get("v")||""),_)return`https://img.youtube.com/vi/${_}/maxresdefault.jpg`}return r};b.useEffect(()=>{a&&h.current&&m&&(h.current.muted=!0,h.current.play().catch(console.error),o(!0))},[a]);const x=()=>{o(!0),c(!0)},w=()=>{o(!1),c(!1)},j=()=>{h.current&&(h.current.muted=!h.current.muted,d(h.current.muted))},f=r||y(e),m=!e.includes("youtube.com")&&!e.includes("youtu.be")&&!e.includes("vimeo.com");if(a&&m)return s.jsxs("div",{className:`relative ${n}`,children:[s.jsx("video",{ref:h,className:"w-full h-full object-cover rounded-lg",controls:!0,muted:u,loop:!0,playsInline:!0,src:e,children:"Tu navegador no soporta el elemento de video."}),s.jsx("button",{onClick:j,className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all",children:u?s.jsx(tv,{className:"h-4 w-4"}):s.jsx(ev,{className:"h-4 w-4"})}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"}),"AUTO"]})]});if(a&&!m){const g=p(e,!0);return s.jsx("div",{className:`relative ${n}`,children:s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("iframe",{className:"w-full h-full rounded-lg",src:g,title:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin"}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs flex items-center pointer-events-none",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"}),"AUTO"]})]})})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`relative cursor-pointer group ${n}`,onClick:x,children:s.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[f?s.jsx("img",{src:f,alt:t,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:g=>{var N;const v=g.target;v.style.display="none",(N=v.nextElementSibling)==null||N.classList.remove("hidden")}}):null,s.jsx("div",{className:`w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center ${f?"hidden":""}`,children:s.jsx(Nu,{className:"h-16 w-16 text-white opacity-80"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center group-hover:bg-opacity-40 transition-all duration-300",children:s.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300",children:s.jsx(Nu,{className:"h-8 w-8 text-gray-800 ml-1"})})}),s.jsx("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:"VIDEO"})]})}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90",children:s.jsxs("div",{className:"relative w-full max-w-4xl mx-4",children:[s.jsx("button",{onClick:w,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:s.jsx(rt,{className:"h-8 w-8"})}),s.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:m?s.jsx("video",{className:"absolute inset-0 w-full h-full",controls:!0,autoPlay:!0,src:e,children:"Tu navegador no soporta el elemento de video."}):s.jsx("iframe",{className:"absolute inset-0 w-full h-full",src:p(e,!0),title:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin"})})]})})]})},Vw=({items:e,title:t="¿Qué incluye el premio?",maxInitialItems:r=8,className:n=""})=>{const[a,i]=b.useState(!1),o=e.filter(h=>h.trim()!==""),l=o.length>r,c=a?e:e.slice(0,r),u=o.length-r,d=()=>{i(!a)};return s.jsxs("div",{className:`bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-100 ${n}`,children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ut,{className:"h-6 w-6 text-green-600 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),s.jsx("div",{className:"space-y-2",children:c.map((h,p)=>{if(h.trim()==="")return s.jsx("div",{className:"h-2"},p);const y=/^[🎯🌊💡🐠🐟⚡🧲🛸🔱🌀🐬🛶💰]/.test(h)&&!h.startsWith("•")&&h.includes(h.toUpperCase().slice(0,10)),x=h.startsWith("•");return s.jsxs("div",{className:`flex items-start transition-all duration-200 ${y?"font-bold text-green-800 text-base mt-3 first:mt-0":x?"text-gray-700 text-sm ml-4":"text-gray-700"}`,children:[y&&s.jsx(Qx,{className:"h-4 w-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:h})]},p)})}),l&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-green-200",children:[s.jsx("button",{onClick:d,className:"w-full flex items-center justify-center px-4 py-3 bg-white border border-green-300 rounded-lg text-green-700 font-medium hover:bg-green-50 hover:border-green-400 transition-all duration-200 shadow-sm hover:shadow-md",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Bx,{className:"h-5 w-5 mr-2"}),"Ver menos"]}):s.jsxs(s.Fragment,{children:[s.jsx(Dx,{className:"h-5 w-5 mr-2"}),"Ver ",u," artículos más"]})}),!a&&s.jsx("div",{className:"mt-2 text-center",children:s.jsxs("span",{className:"text-xs text-gray-500 bg-white px-3 py-1 rounded-full border border-gray-200",children:["+",u," artículos adicionales"]})})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-green-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Total de artículos:"}),s.jsx("span",{className:"font-semibold text-green-700",children:o.length})]})})]})},qw=()=>{const{slug:e}=mg(),[t,r]=b.useState(null),[n,a]=b.useState(!0),[i,o]=b.useState(null),[l,c]=b.useState(0),[u,d]=b.useState("images"),[h,p]=b.useState(!1),[y,x]=b.useState(0),[w,j]=b.useState(!1);b.useEffect(()=>{e&&(async()=>{try{a(!0);const{data:A,error:q}=await D.from("public_raffles").select("*").eq("slug",e).single();if(q)throw q;r(A)}catch(A){console.error("Error fetching raffle:",A),o("No se pudo cargar el sorteo")}finally{a(!1)}})()},[e]);const f=async()=>{const P=window.location.href;if(navigator.share)try{await navigator.share({title:t==null?void 0:t.name,text:`¡Mira este sorteo: ${t==null?void 0:t.name}!`,url:P})}catch(A){console.error("Error sharing:",A)}else try{await navigator.clipboard.writeText(P),L.success("¡Enlace copiado al portapapeles!")}catch(A){console.error("Error copying to clipboard:",A),L.error("No se pudo copiar el enlace")}},m=()=>{const P=window.location.href,A=encodeURIComponent(`¡Mira este sorteo: ${t==null?void 0:t.name}!
${P}`);window.open(`https://wa.me/?text=${A}`,"_blank")},g=P=>{x(P),p(!0)},v=()=>{p(!1)},N=()=>{j(!0)},_=()=>{j(!1)},k=()=>{t&&T.length>0&&x(P=>(P+1)%T.length)},S=()=>{t&&T.length>0&&x(P=>(P-1+T.length)%T.length)};if(b.useEffect(()=>{const P=A=>{!h&&!w||(A.key==="Escape"?(h&&v(),w&&_()):h&&(A.key==="ArrowLeft"?S():A.key==="ArrowRight"&&k()))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[h,w]),n)return s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})});if(i||!t)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sorteo no encontrado"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"El sorteo que buscas no existe o no está disponible."}),s.jsx(Y,{to:"/sorteos",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:"Ver todos los sorteos"})]});const T=[t.image_url,...t.images||[]].filter(Boolean),C=[t.video_url,...t.video_urls||[]].filter(Boolean),I=T.length>0||C.length>0,ae=P=>new Date(P).toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Mazatlan"});return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-4",children:I&&s.jsxs(s.Fragment,{children:[T.length>0&&C.length>0&&s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>d("images"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${u==="images"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Imágenes (",T.length,")"]}),s.jsxs("button",{onClick:()=>d("videos"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${u==="videos"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:["Videos (",C.length,")"]})]}),s.jsx("div",{className:"relative",children:u==="images"&&T.length>0?s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"order-2 lg:order-1 flex lg:flex-col gap-2 overflow-x-auto lg:overflow-y-auto lg:max-h-96 lg:w-20",children:T.map((P,A)=>s.jsx("button",{onClick:()=>c(A),className:`flex-shrink-0 w-16 h-16 lg:w-20 lg:h-20 overflow-hidden rounded-lg border-2 transition-all duration-200 ${A===l?"border-orange-500 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:P,alt:`Vista ${A+1}`,className:"w-full h-full object-cover"})},A))}),s.jsx("div",{className:"order-1 lg:order-2 flex-1 relative group",children:s.jsxs("div",{className:"relative cursor-pointer bg-gray-50 rounded-lg overflow-hidden",onClick:()=>g(l),children:[s.jsx("img",{src:T[l],alt:t.name,className:"w-full h-[400px] md:h-[500px] lg:h-[600px] object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-3 shadow-lg",children:s.jsx(rv,{className:"w-6 h-6 text-gray-800"})})})}),s.jsx("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Haz clic para ampliar"})]})})]}):u==="videos"&&C.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-4",children:C.map((P,A)=>s.jsx(Bw,{videoUrl:P,title:`${t.name} - Video ${A+1}`,className:"h-96",autoplay:A===0},A))}):s.jsx("div",{className:"cursor-pointer",onClick:()=>g(0),children:s.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-[400px] md:h-[500px] lg:h-[600px] object-cover rounded-lg shadow-lg hover:scale-105 transition-transform duration-300"})})}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsxs("button",{onClick:N,className:"group relative bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-2xl hover:shadow-yellow-500/25 transform hover:scale-105 transition-all duration-300 border-2 border-yellow-300 hover:border-yellow-200",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-white/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("span",{className:"relative flex items-center",children:[s.jsx(ut,{className:"mr-3 h-6 w-6 group-hover:rotate-12 transition-transform duration-300"}),"🎁 Ver Premio Especial",s.jsx(ut,{className:"ml-3 h-6 w-6 group-hover:rotate-12 transition-transform duration-300"})]}),s.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform -skew-x-12 group-hover:animate-pulse transition-all duration-700"})]})})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:f,className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors",title:"Compartir",children:s.jsx(Xl,{className:"h-5 w-5"})}),s.jsx("button",{onClick:m,className:"p-2 text-green-500 hover:text-green-700 rounded-full hover:bg-green-50 transition-colors",title:"Compartir por WhatsApp",children:s.jsx(Gx,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"prose max-w-none mb-6",children:s.jsx("p",{className:"whitespace-pre-line text-gray-600",children:t.description})}),t.prize_items&&t.prize_items.length>0&&s.jsx("div",{className:"mb-6",children:s.jsx(Vw,{items:t.prize_items,maxInitialItems:10})}),s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsx("div",{className:"relative",children:s.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0205/5752/9188/files/pago-seguro-pizarronesplus-2023-768x217.png?v=1750993563",alt:"Pago Seguro - Mercado Pago",className:"h-16 md:h-20 w-auto object-contain",style:{filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1))",maxWidth:"300px"}})})}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(kt,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Fecha del sorteo"}),s.jsx("p",{className:"font-semibold",children:ae(t.draw_date)}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(ei,{className:"h-4 w-4 text-blue-500 mr-1"}),s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Hora del Pacífico - Sinaloa"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(vs,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Participantes"}),s.jsx("p",{className:"font-semibold",children:t.participant_count})]})]})]})}),t.drawn_at?s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"¡Sorteo Realizado!"}),s.jsxs("p",{className:"text-green-700",children:["Fecha: ",ae(t.drawn_at)]}),t.winner_id&&s.jsx("div",{className:"mt-2",children:s.jsxs("p",{className:"font-medium text-green-800",children:["Ganador: ",t.winner_first_name," ",t.winner_last_name]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tiempo restante"}),s.jsx(om,{targetDate:t.draw_date})]}),t.status==="active"&&s.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border border-green-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Precio por boleto"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.price," MXN"]})]}),s.jsxs(Y,{to:`/boletos?raffle=${t.id}`,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-green-600 hover:bg-green-700 shadow-sm transition-colors",children:[s.jsx(gr,{className:"mr-2 h-5 w-5"}),"Comprar Boletos"]})]}),s.jsx("div",{className:"text-sm text-green-700",children:"* Los boletos serán reservados por 3 horas una vez seleccionados"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(Y,{to:"/sorteos",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 transition-colors",children:"Ver todos los sorteos"})})]})]})})}),w&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",children:s.jsxs("div",{className:"relative max-w-4xl w-full",children:[s.jsx("button",{onClick:_,className:"absolute -top-12 right-0 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 rounded-full p-3",children:s.jsx(rt,{className:"w-8 h-8"})}),s.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-white p-6 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"🎁 ¡PREMIO ESPECIAL! 🎁"}),s.jsx("p",{className:"text-lg opacity-90",children:"Envío completamente GRATIS a toda la República Mexicana"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("img",{src:"https://cdn.shopify.com/s/files/1/0205/5752/9188/files/ENVIO_GRATIS.gif?v=1750992275",alt:"Premio Especial - Envío Gratis",className:"w-full h-auto rounded-xl shadow-lg",style:{maxHeight:"70vh",objectFit:"contain"}}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"✨ Beneficio Exclusivo"}),s.jsx("p",{className:"text-green-700",children:"Tu premio será enviado sin costo adicional a cualquier parte de México. ¡No importa dónde te encuentres, nosotros nos encargamos de todo!"})]})})]})]})]})}),h&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex items-center justify-center",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[s.jsx("button",{onClick:v,className:"absolute top-4 right-4 z-10 text-white hover:text-gray-300 transition-colors bg-black bg-opacity-50 rounded-full p-3",children:s.jsx(rt,{className:"w-6 h-6"})}),s.jsxs("div",{className:"relative max-w-full max-h-full flex items-center justify-center",children:[s.jsx("img",{src:T[y],alt:`${t.name} - Imagen ${y+1}`,className:"max-w-full max-h-[90vh] object-contain"}),T.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:S,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 text-gray-800 p-3 rounded-full shadow-lg transition-all",children:s.jsx(Ux,{className:"h-6 w-6"})}),s.jsx("button",{onClick:k,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 text-gray-800 p-3 rounded-full shadow-lg transition-all",children:s.jsx(Fx,{className:"h-6 w-6"})})]})]}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 text-white px-6 py-3 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium",children:t.name}),s.jsxs("p",{className:"text-xs text-gray-300 mt-1",children:["Imagen ",y+1," de ",T.length]})]})}),T.length>1&&s.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 max-w-full",children:s.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 px-4",children:T.map((P,A)=>s.jsx("button",{onClick:()=>x(A),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden transition-all ${A===y?"ring-2 ring-white scale-110":"opacity-70 hover:opacity-100"}`,children:s.jsx("img",{src:P,alt:`Miniatura ${A+1}`,className:"w-full h-full object-cover"})},A))})})]})}),s.jsx(_t,{})]})},Hw=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null);b.useEffect(()=>{(async()=>{try{n(!0);const{data:c,error:u}=await D.from("public_raffles").select("*").eq("status","active").order("draw_date",{ascending:!0});if(u)throw u;t(c||[])}catch(c){console.error("Error fetching raffles:",c),i("No se pudieron cargar los sorteos")}finally{n(!1)}})()},[]);const o=l=>new Date(l).toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Mazatlan"});return r?s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})}):a?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 text-center",children:a})]}):s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Sorteos Activos"}),s.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"Participa en nuestros sorteos activos y no pierdas la oportunidad de ganar increíbles premios."})]}),e.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>s.jsxs(Y,{to:`/sorteo/${l.slug}`,className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:l.image_url,alt:l.name,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-0 right-0 m-2",children:s.jsxs("div",{className:"bg-green-500 text-white px-3 py-1 text-sm rounded-full font-semibold shadow-lg",children:["$",l.price," MXN"]})}),s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsx("div",{className:"bg-blue-500 text-white px-2 py-1 text-xs rounded font-semibold shadow-lg",children:"Activo"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:l.name}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(kt,{className:"h-4 w-4 mr-2"}),o(l.draw_date)]}),s.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[s.jsx(ei,{className:"h-4 w-4 mr-2"}),"Hora del Pacífico - Sinaloa"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(vs,{className:"h-4 w-4 mr-2"}),l.participant_count," participantes"]})]}),s.jsx("p",{className:"text-gray-600 line-clamp-2 mb-4",children:l.description}),s.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:["Ver detalles",s.jsx(jr,{className:"ml-2 h-4 w-4"})]})]})]},l.id))}):s.jsxs("div",{className:"text-center text-gray-500 py-12",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay sorteos activos"}),s.jsx("p",{children:"En este momento no hay sorteos disponibles. ¡Vuelve pronto para ver nuevos sorteos!"})]})]})}),s.jsx(_t,{})]})},Uu=()=>{const[e]=mf(),[t,r]=b.useState(null),[n,a]=b.useState(!0),i=e.get("payment_id"),o=e.get("status"),l=e.get("external_reference"),c=e.get("preference_id");b.useEffect(()=>{(async()=>{try{a(!0);let p=D.from("payment_logs").select("*");i?p=p.eq("payment_id",i):l?p=p.eq("external_reference",l):c&&(p=p.eq("preference_id",c));const{data:y,error:x}=await p.order("created_at",{ascending:!1}).limit(1);if(x&&console.error("Error fetching payment data:",x),y&&y.length>0){const w=y[0],j=w.metadata||{},{data:f}=await D.from("raffles").select("name").eq("id",j.raffle_id).single();r({id:w.payment_id||w.preference_id||"N/A",status:w.status||o||"approved",amount:w.amount||0,tickets:j.ticket_numbers||[],raffle:(f==null?void 0:f.name)||"Sorteo Terrapesca",date:new Date(w.created_at).toLocaleDateString(),external_reference:w.external_reference||""})}else r({id:i||"N/A",status:o||"approved",amount:0,tickets:[],raffle:"Sorteo Terrapesca",date:new Date().toLocaleDateString(),external_reference:l||""})}catch(p){console.error("Error processing payment data:",p)}finally{a(!1)}})()},[i,o,l,c]);const u=async()=>{const h=`¡Acabo de comprar boletos para ${t==null?void 0:t.raffle}! 🎟️
Boletos: ${t==null?void 0:t.tickets.join(", ")}
¡Deséame suerte! 🍀`;if(navigator.share)try{await navigator.share({title:"Mis boletos de sorteo",text:h,url:window.location.origin})}catch(p){console.error("Error sharing:",p)}else{const p=encodeURIComponent(h);window.open(`https://wa.me/?text=${p}`,"_blank")}};if(n)return s.jsx("div",{className:"flex justify-center items-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"})});if(!t)return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No se encontró información del pago"}),s.jsx(Y,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:"Volver al inicio"})]})}),s.jsx(_t,{})]});const d=o==="pending"||t.status==="pending";return s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:`px-6 py-8 text-center ${d?"bg-yellow-500":"bg-green-500"}`,children:[s.jsx(Yr,{className:"h-16 w-16 text-white mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:d?"¡Pago Pendiente!":"¡Pago Exitoso!"}),s.jsx("p",{className:d?"text-yellow-100":"text-green-100",children:d?"Tu pago está siendo procesado":"Tu pago ha sido procesado correctamente"})]}),s.jsxs("div",{className:"px-6 py-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b pb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detalles del Pago"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"ID de Pago:"}),s.jsx("p",{className:"font-medium",children:t.id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Estado:"}),s.jsx("p",{className:`font-medium ${d?"text-yellow-600":"text-green-600"}`,children:d?"Pendiente":"Aprobado"})]}),t.amount>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Monto:"}),s.jsxs("p",{className:"font-medium",children:["$",t.amount.toLocaleString()," MXN"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Fecha:"}),s.jsx("p",{className:"font-medium",children:t.date})]})]})]}),s.jsxs("div",{className:"border-b pb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(kt,{className:"h-5 w-5 mr-2"}),"Sorteo"]}),s.jsx("p",{className:"text-gray-700",children:t.raffle})]}),t.tickets.length>0&&s.jsxs("div",{className:"border-b pb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(gr,{className:"h-5 w-5 mr-2"}),"Tus Boletos"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tickets.map((h,p)=>s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:h},p))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"¿Qué sigue?"}),s.jsx("div",{className:"space-y-3 text-sm text-gray-600",children:d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-yellow-100 rounded-full p-1 mr-3 mt-0.5",children:s.jsx(Yr,{className:"h-4 w-4 text-yellow-600"})}),s.jsx("p",{children:"Tu pago está siendo procesado. Esto puede tomar unos minutos."})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-yellow-100 rounded-full p-1 mr-3 mt-0.5",children:s.jsx(Oa,{className:"h-4 w-4 text-yellow-600"})}),s.jsx("p",{children:"Te notificaremos por WhatsApp cuando se confirme el pago."})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-1 mr-3 mt-0.5",children:s.jsx(Yr,{className:"h-4 w-4 text-green-600"})}),s.jsx("p",{children:"Tus boletos han sido confirmados y están registrados a tu nombre."})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-1 mr-3 mt-0.5",children:s.jsx(Oa,{className:"h-4 w-4 text-green-600"})}),s.jsx("p",{children:"Recibirás una confirmación por WhatsApp con todos los detalles."})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"bg-green-100 rounded-full p-1 mr-3 mt-0.5",children:s.jsx(kt,{className:"h-4 w-4 text-green-600"})}),s.jsx("p",{children:"El sorteo se realizará en vivo a través de nuestras redes sociales."})]})]})})]})]}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(Y,{to:"/verificar",className:"flex-1 bg-green-600 text-white text-center py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:["Verificar mis boletos",s.jsx(jr,{className:"ml-2 h-4 w-4"})]}),s.jsxs("button",{onClick:u,className:"flex-1 border border-gray-300 text-gray-700 text-center py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[s.jsx(Xl,{className:"mr-2 h-4 w-4"}),"Compartir"]})]}),s.jsx(Y,{to:"/sorteos",className:"block text-center text-gray-600 hover:text-gray-800 py-2",children:"Ver otros sorteos"})]})]})]}),s.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"¿Tienes alguna pregunta?"}),s.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Nuestro equipo está disponible para ayudarte con cualquier duda sobre tu compra."}),s.jsxs("a",{href:"https://wa.me/526686889571",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium",children:["Contactar por WhatsApp",s.jsx(jr,{className:"ml-1 h-4 w-4"})]})]})]})}),s.jsx(_t,{})]})},Ww=()=>s.jsxs("div",{className:"flex flex-col min-h-screen",children:[s.jsx("main",{className:"flex-grow bg-gray-50 py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-red-500 px-6 py-8 text-center",children:[s.jsx(Ho,{className:"h-16 w-16 text-white mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Pago No Procesado"}),s.jsx("p",{className:"text-red-100",children:"Hubo un problema al procesar tu pago"})]}),s.jsxs("div",{className:"px-6 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"¿Qué pasó?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Tu pago no pudo ser procesado. Esto puede deberse a varios motivos como fondos insuficientes, problemas con la tarjeta, o una interrupción en la conexión."})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Posibles causas:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-red-500 mr-2",children:"•"}),"Fondos insuficientes en la cuenta o tarjeta"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-red-500 mr-2",children:"•"}),"Datos de la tarjeta incorrectos o vencida"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-red-500 mr-2",children:"•"}),"Límites de transacción excedidos"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-red-500 mr-2",children:"•"}),"Problemas temporales con el banco o procesador"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-red-500 mr-2",children:"•"}),"Interrupción en la conexión a internet"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"¿Qué puedes hacer?"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs(Y,{to:"/boletos",className:"flex items-center justify-center bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Jl,{className:"mr-2 h-4 w-4"}),"Intentar de nuevo"]}),s.jsxs("a",{href:"https://wa.me/526686889571?text=Hola,%20tuve%20problemas%20con%20el%20pago%20de%20mis%20boletos.%20¿Pueden%20ayudarme?",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(cs,{className:"mr-2 h-4 w-4"}),"Contactar soporte"]})]}),s.jsxs(Y,{to:"/",className:"flex items-center justify-center text-gray-600 hover:text-gray-800 py-2",children:[s.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Volver al inicio"]})]})]})]}),s.jsxs("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"💡 Consejos para un pago exitoso"}),s.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[s.jsx("li",{children:"• Verifica que tu tarjeta tenga fondos suficientes"}),s.jsx("li",{children:"• Asegúrate de que los datos de la tarjeta sean correctos"}),s.jsx("li",{children:"• Usa una conexión a internet estable"}),s.jsx("li",{children:"• Si el problema persiste, intenta con otro método de pago"})]})]})]})}),s.jsx(_t,{})]});function Gw(){return s.jsx(zg,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsx(nv,{}),s.jsx("div",{className:"flex-grow",children:s.jsxs(Tg,{children:[s.jsx(Ue,{path:"/",element:s.jsx(jw,{})}),s.jsx(Ue,{path:"/boletos",element:s.jsx(Rw,{})}),s.jsx(Ue,{path:"/verificar",element:s.jsx(Ow,{})}),s.jsx(Ue,{path:"/contacto",element:s.jsx(Lw,{})}),s.jsx(Ue,{path:"/admin",element:s.jsx(Mw,{})}),s.jsx(Ue,{path:"/admin/sorteos",element:s.jsx(Fw,{})}),s.jsx(Ue,{path:"/sorteos",element:s.jsx(Hw,{})}),s.jsx(Ue,{path:"/sorteo/:slug",element:s.jsx(qw,{})}),s.jsx(Ue,{path:"/payment/success",element:s.jsx(Uu,{})}),s.jsx(Ue,{path:"/payment/failure",element:s.jsx(Ww,{})}),s.jsx(Ue,{path:"/payment/pending",element:s.jsx(Uu,{})})]})}),s.jsx($x,{position:"top-right"})]})})}Zh(document.getElementById("root")).render(s.jsx(b.StrictMode,{children:s.jsx(Gw,{})}));
